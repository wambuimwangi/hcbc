if (self.CavalryLogger) { CavalryLogger.start_js(["fqgId"]); }

__d("XCometPrivacyCheckupControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f){a=b("jsRouteBuilder")("/privacy/checkup/",Object.freeze({source:"unknown"}),void 0);e.exports=a}),null);
__d("CometLoggedInAccountSwitcherPopoverMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"2641526332535377",metadata:{relayPreloadable:!0},name:"CometLoggedInAccountSwitcherPopoverMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometLoggedInAccountSwitcher_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcher_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_hash",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherRow_account"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherRowWithUpdateText_account"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherSubmitForm_query"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherRow_query"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherRowWithUpdateText_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometProfileSwitcherPagePublishingAuthorizationCard_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometProfileSwitcherPagePublishingAuthorizationCard_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_publishing_authorization_hub_action_url",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"page_publishing_authorization_admin_notice",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometProfileSwitcher_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"unseen_update_count",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometProfileSwitcher_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_open_express_onboarding",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[a,b,c,d,{alias:null,args:[{kind:"Literal",name:"context_item_types",value:"FOLLOWER_COUNT"},{kind:"Literal",name:"render_location",value:"PROFILE_PLUS_PREVIEW"}],concreteType:"TimelineContextListItemsConnection",kind:"LinkedField",name:"timeline_context_items",plural:!1,selections:[{alias:null,args:null,concreteType:"TimelineContextListItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'timeline_context_items(context_item_types:"FOLLOWER_COUNT",render_location:"PROFILE_PLUS_PREVIEW")'}],storageKey:null}],storageKey:null}],storageKey:null},a,b,c,d,{alias:null,args:null,kind:"ScalarField",name:"is_failing_page_publishing_authorization",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useProfileCometSwitcherCleanUpOnSwap_query"},{args:null,kind:"FragmentSpread",name:"CometProfileSwitcherPagePublishingAuthorizationCard_query"}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("CometSettingsDropdownHeader_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometSettingsDropdownHeader_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"settings_dropdown_profile_picture",args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_use_page_rename",storageKey:null},{alias:"profileSwitcherEligibleProfiles",args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometSettingsDropdownListQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"inProfileSwitcherEntry"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c={defaultValue:null,kind:"LocalArgument",name:"shouldShowPagesUnit"},d={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},e={alias:"profileSwitcherEligibleProfiles",args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[d],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},j={kind:"Variable",name:"scale",variableName:"scale"},k=[{kind:"Literal",name:"height",value:60},j,{kind:"Literal",name:"width",value:60}],l={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},m=[l],n={kind:"Literal",name:"first",value:2},o=[{kind:"Literal",name:"height",value:36},j,{kind:"Literal",name:"width",value:36}],p={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},s=[l,p,q,r],t={alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:s,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"unseen_update_count",storageKey:null};j=[{kind:"Literal",name:"height",value:40},j,{kind:"Literal",name:"width",value:40}];var v={alias:null,args:j,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:s,storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},x={alias:null,args:[{kind:"Literal",name:"context_item_types",value:"FOLLOWER_COUNT"},{kind:"Literal",name:"render_location",value:"PROFILE_PLUS_PREVIEW"}],concreteType:"TimelineContextListItemsConnection",kind:"LinkedField",name:"timeline_context_items",plural:!1,selections:[{alias:null,args:null,concreteType:"TimelineContextListItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[w],storageKey:null}],storageKey:null}],storageKey:'timeline_context_items(context_item_types:"FOLLOWER_COUNT",render_location:"PROFILE_PLUS_PREVIEW")'},y={alias:null,args:null,kind:"ScalarField",name:"should_open_express_onboarding",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},B={kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"},C={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},F={alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountForm",kind:"LinkedField",name:"form",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountFormField",kind:"LinkedField",name:"inputs",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null},G=[{kind:"Literal",name:"first",value:1}];return{fragment:{argumentDefinitions:[a,b,c],kind:"Fragment",metadata:null,name:"CometSettingsDropdownListQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[e],type:"User",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometSettingsDropdownHeader_viewer"},{condition:"shouldShowPagesUnit",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometSettingsDropdownHeaderPagesUnit_viewer"}]},{args:null,kind:"FragmentSpread",name:"CometSettingsDropdownSettingsAndPrivacy_viewer"},{args:null,kind:"FragmentSpread",name:"CometSettingsDropdownInternationalization_viewer"}],storageKey:null},f,{args:null,kind:"FragmentSpread",name:"useCometCombinedProfileAccountSwitcherListCell_query"},{condition:"inProfileSwitcherEntry",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"useCometSettingsDropdownAdditionalProfileListCell_query"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a,c],kind:"Operation",name:"CometSettingsDropdownListQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[g,h,i,{alias:"settings_dropdown_profile_picture",args:k,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"should_use_page_rename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"PolyglotUserProgress",kind:"LinkedField",name:"polyglot_user_progress",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_mode",storageKey:null},h],storageKey:null},{alias:"first_profiles",args:[n],concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[t,h],storageKey:null}],storageKey:null}],storageKey:"profile_switcher_eligible_profiles(first:2)"},{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[d,{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[u,h,i,v,x],storageKey:null},y],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_publishing_authorization_hub_action_url",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"page_publishing_authorization_admin_notice",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[z,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[g,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[q,r,l,p],storageKey:null},B],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[z,A,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[z,A,d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[g,{kind:"InlineFragment",selections:[h,i],type:"User",abstractKey:null},B],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[h,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[C,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[C,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},B],storageKey:null},z,A],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[z,A,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null},w],storageKey:null},v,u,{alias:null,args:null,kind:"ScalarField",name:"is_failing_page_publishing_authorization",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_account_level_settings",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[D,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[h,E,i,{alias:null,args:k,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:s,storageKey:null},{alias:"switcher_profile_picture",args:j,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonce",storageKey:null},F],storageKey:null},{alias:"first_account",args:G,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[D,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[h,i,{alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[r,q,p,l],storageKey:null}],storageKey:null},F],storageKey:"device_switchable_accounts(first:1)"},{alias:null,args:null,kind:"ScalarField",name:"logout_hash",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[E,h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_switchable_account_has_notification",storageKey:null},{condition:"shouldShowPagesUnit",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[n,{kind:"Literal",name:"orderby",value:["page_switcher_order"]}],concreteType:"AdminedPagesConnection",kind:"LinkedField",name:"admined_pages",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[h,i,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null}],storageKey:null},d],storageKey:'admined_pages(first:2,orderby:["page_switcher_order"])'}]}],storageKey:null},f,{condition:"inProfileSwitcherEntry",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"first_profile",args:G,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[y,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[h,i,t,u,x],storageKey:null}],storageKey:null}],storageKey:"profile_switcher_eligible_profiles(first:1)"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]}]},params:{id:"3307329906029164",metadata:{relayPreloadable:!0},name:"CometSettingsDropdownListQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometSettingsDropdownQuickHelpQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometSettingsDropdownQuickHelpQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometSettingsDropdownQuickHelpQuery",selections:a},params:{id:"2775132975915116",metadata:{relayPreloadable:!0},name:"CometSettingsDropdownQuickHelpQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometSettingsDropdownSettingsAndPrivacy_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometSettingsDropdownSettingsAndPrivacy_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_account_level_settings",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometLoggedInAccountSwitcherAccountForm_form.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherAccountForm_form",selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountFormField",kind:"LinkedField",name:"inputs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"LoggedInAccountSwitcherAccountForm",abstractKey:null};e.exports=a}),null);
__d("CometLoggedInAccountSwitcherRow_account.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRow_account",selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountForm",kind:"LinkedField",name:"form",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherAccountForm_form"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherRemoveAccount_account"}],type:"LoggedInAccountSwitcherAccount",abstractKey:null};e.exports=a}),null);
__d("CometLoggedInAccountSwitcherRow_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRow_query",selections:[{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherSubmitForm_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useCometLoggedInAccountSwitcherListCell_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useCometLoggedInAccountSwitcherListCell_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"first_account",args:[{kind:"Literal",name:"first",value:1}],concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[a,{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountForm",kind:"LinkedField",name:"form",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherAccountForm_form"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"device_switchable_accounts(first:1)"},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_switchable_account_has_notification",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherSubmitForm_query"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcher_query"}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("CometLoggedInAccountSwitcherRowWithUpdateText_account.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRowWithUpdateText_account",selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountForm",kind:"LinkedField",name:"form",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherAccountForm_form"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"switcher_profile_picture",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherRemoveAccount_account"}],type:"LoggedInAccountSwitcherAccount",abstractKey:null};e.exports=a}),null);
__d("CometLoggedInAccountSwitcherRowWithUpdateText_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRowWithUpdateText_query",selections:[{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherSubmitForm_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometProfileAndAccountSwitcher_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={kind:"Variable",name:"scale",variableName:"scale"},d={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"height",value:40},c,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[d,e,f,g],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"unseen_update_count",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometProfileAndAccountSwitcher_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_open_express_onboarding",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[a,b,h,i,{alias:null,args:[{kind:"Literal",name:"context_item_types",value:"FOLLOWER_COUNT"},{kind:"Literal",name:"render_location",value:"PROFILE_PLUS_PREVIEW"}],concreteType:"TimelineContextListItemsConnection",kind:"LinkedField",name:"timeline_context_items",plural:!1,selections:[{alias:null,args:null,concreteType:"TimelineContextListItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'timeline_context_items(context_item_types:"FOLLOWER_COUNT",render_location:"PROFILE_PLUS_PREVIEW")'}],storageKey:null}],storageKey:null}],storageKey:null},a,b,h,i,{alias:null,args:null,kind:"ScalarField",name:"is_failing_page_publishing_authorization",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:"first_account",args:[{kind:"Literal",name:"first",value:1}],concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[j,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:36},c,{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[g,f,e,d],storageKey:null}],storageKey:null}],storageKey:"device_switchable_accounts(first:1)"},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[j],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useProfileCometSwitcherCleanUpOnSwap_query"},{args:null,kind:"FragmentSpread",name:"CometProfileSwitcherPagePublishingAuthorizationCard_query"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcher_query"}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("useCometCombinedProfileAccountSwitcherListCell_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useCometCombinedProfileAccountSwitcherListCell_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"first_profiles",args:[{kind:"Literal",name:"first",value:2}],concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"profile_switcher_eligible_profiles(first:2)"},{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unseen_update_count",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometProfileAndAccountSwitcher_query"},{args:null,kind:"FragmentSpread",name:"CometProfileSwitcher_query"},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherListCell_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometLoggedInAccountSwitcherAccountForm.react",["CometRelay","React","CometLoggedInAccountSwitcherAccountForm_form.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometLoggedInAccountSwitcherAccountForm_form.graphql"),a.form),d=c.action;c=c.inputs;return h.jsx("form",{action:d,method:"POST",ref:a.formRef,children:c.map(function(a){var b=a.name;a=a.value;return h.jsx("input",{name:b,type:"hidden",value:a},b)})})}}),null);
__d("CometLoggedInAccountSwitcherRow.react",["ix","fbt","CometLoggedInAccountSwitcherAccountForm.react","CometRelay","React","TetraListCell.react","WebPixelRatio","fbicon","recoverableViolation","useCometLoggedInAccountSwitcherRemoveAccount","useCometLoggedInAccountSwitcherSubmitForm","useProfileEngagementClickCallback","CometLoggedInAccountSwitcherRow_query.graphql","CometLoggedInAccountSwitcherRow_account.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React");function a(a){var c=b("CometRelay").useFragment(i!==void 0?i:i=b("CometLoggedInAccountSwitcherRow_query.graphql"),a.query);a=b("CometRelay").useFragment(j!==void 0?j:j=b("CometLoggedInAccountSwitcherRow_account.graphql"),a.account);var d=a.form,e=a.unread_notification_count,f=a.user,l=k.useRef(null),m=b("useCometLoggedInAccountSwitcherSubmitForm")(c,l),n=b("useCometLoggedInAccountSwitcherRemoveAccount")(a);c={product_bucket:"account_switcher",subsurface:"switch_account_menu",surface:"navigation"};var o=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},c,{item_type:"account"})),p=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},c,{item_type:"remove"}));if(f==null){b("recoverableViolation")("A user is required to render a CometLoggedInAccountSwitcherRow","comet_ui");return null}if(d==null){b("recoverableViolation")("A form is required to render a CometLoggedInAccountSwitcherRow","comet_ui");return null}e==null&&b("recoverableViolation")("We should have an unread_notification_count but we don't","comet_ui");return k.jsx(b("TetraListCell.react"),{addOnPrimary:{addOnTopEnd:((a=e)!=null?a:0)>0?{number:(c=e)!=null?c:0,type:"notificationBadge"}:void 0,shape:"circle",size:60,source:{height:(e=f==null?void 0:(a=f.profile_picture)==null?void 0:a.height)!=null?e:60,scale:(a=f==null?void 0:(c=f.profile_picture)==null?void 0:c.scale)!=null?a:b("WebPixelRatio").get(),uri:(c=f==null?void 0:(e=f.profile_picture)==null?void 0:e.uri)!=null?c:"",width:(e=f==null?void 0:(a=f.profile_picture)==null?void 0:a.width)!=null?e:60},type:"profile-photo"},addOnSecondary:{"aria-label":h._("Remove Account"),color:"secondary",icon:b("fbicon")._(g("478234"),24),onPress:function(){p(),n()},type:"icon"},headline:k.jsxs(k.Fragment,{children:[f==null?void 0:f.name,k.jsx(b("CometLoggedInAccountSwitcherAccountForm.react"),{form:d,formRef:l})]}),onPress:function(){o(),m()}})}}),null);
__d("CometLoggedInAccountSwitcherRowWithUpdateText.react",["ix","fbt","CometBadge.react","CometLoggedInAccountSwitcherAccountForm.react","CometRelay","React","TetraListCell.react","WebPixelRatio","fbicon","recoverableViolation","useCometLoggedInAccountSwitcherRemoveAccount","useCometLoggedInAccountSwitcherSubmitForm","useProfileEngagementClickCallback","CometLoggedInAccountSwitcherRowWithUpdateText_query.graphql","CometLoggedInAccountSwitcherRowWithUpdateText_account.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j,k=b("React");function a(a){var c=b("CometRelay").useFragment(i!==void 0?i:i=b("CometLoggedInAccountSwitcherRowWithUpdateText_query.graphql"),a.query);a=b("CometRelay").useFragment(j!==void 0?j:j=b("CometLoggedInAccountSwitcherRowWithUpdateText_account.graphql"),a.account);var d=a.form,e=a.unread_notification_count,f=a.user,l=k.useRef(null),m=b("useCometLoggedInAccountSwitcherSubmitForm")(c,l),n=b("useCometLoggedInAccountSwitcherRemoveAccount")(a);c={product_bucket:"profile_account_switcher",subsurface:"switch_account_menu",surface:"navigation"};var o=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},c,{item_type:"account"})),p=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},c,{item_type:"remove"}));if(f==null){b("recoverableViolation")("A user is required to render a CometLoggedInAccountSwitcherRowWithUpdateText","comet_ui");return null}if(d==null){b("recoverableViolation")("A form is required to render a CometLoggedInAccountSwitcherRowWithUpdateText","comet_ui");return null}e==null&&b("recoverableViolation")("We should have an unread_notification_count but we don't","comet_ui");return k.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:40,source:{height:(c=f==null?void 0:(a=f.switcher_profile_picture)==null?void 0:a.height)!=null?c:40,scale:(c=f==null?void 0:(a=f.switcher_profile_picture)==null?void 0:a.scale)!=null?c:b("WebPixelRatio").get(),uri:(c=f==null?void 0:(a=f.switcher_profile_picture)==null?void 0:a.uri)!=null?c:"",width:(c=f==null?void 0:(a=f.switcher_profile_picture)==null?void 0:a.width)!=null?c:40},type:"profile-photo"},addOnSecondary:{"aria-label":h._("Remove Account"),color:"secondary",icon:b("fbicon")._(g("478234"),24),onPress:function(){p(),n()},type:"icon"},body:e!==null&&e!==0?k.jsxs(k.Fragment,{children:[k.jsx(b("CometBadge.react"),{}),h._({"*":"{number} updates","_1":"1 update"},[h._plural(e||0,"number")])]}):null,headline:k.jsxs(k.Fragment,{children:[f==null?void 0:f.name,k.jsx(b("CometLoggedInAccountSwitcherAccountForm.react"),{form:d,formRef:l})]}),level:4,onPress:function(){o(),m()}})}}),null);
__d("CometLoggedInAccountSwitcher.react",["ix","fbt","CometListItemSeparator.react","CometLoggedInAccountSwitcherRow.react","CometLoggedInAccountSwitcherRowWithUpdateText.react","Locale","React","RelayHooks","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","XLoginController","XLogoutController","fbicon","gkx","stylex","useCometLoggedInAccountSwitcherSubmitForm","useProfileEngagementClickCallback","CometLoggedInAccountSwitcher_query.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=b("Locale").isRTL();function l(a){if(b("gkx")("1475594"))return h._("You'll be logged out first. Then someone else can log in or add their account");return a==null?h._("Log into another account easily. You will be logged out."):h._("Log into another account easily. {name} will be logged out.",[h._param("name",a)])}function a(a){var c=a.onReturn;a=a.query;var d=b("RelayHooks").useFragment(i!==void 0?i:i=b("CometLoggedInAccountSwitcher_query.graphql"),a);a=j.useRef(null);var e=b("useCometLoggedInAccountSwitcherSubmitForm")(d,a),f=b("XLoginController").getURIBuilder().setString("ref","www_account_switcher").getURI().toString(),m=b("XLogoutController").getURIBuilder().setString("next",f.toString()).setString("button_name","switch_accounts").setString("button_location","settings").getURI().toString(),n=b("gkx")("1475594"),o={product_bucket:b("gkx")("1475594")?"profile_account_switcher":"account_switcher",subsurface:"switch_account_menu",surface:"navigation"},p=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},o,{item_type:"back"})),q=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},o,{item_type:"add"}));return j.jsxs("div",{className:"cbu4d94t j83agx80",children:[j.jsxs("div",{className:"dati1w0a sj5x9vvc hv4rvrfc discj3wi btwxx1t3 j83agx80",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Back"),icon:k?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:function(){p(),c()}})}),j.jsx("div",{className:"h4z51re5 j83agx80 bp9cbjyn",children:j.jsx(b("TetraText.react"),{type:"headlineEmphasized1",children:n?h._("Switch Account"):h._("Switch Accounts")})})]}),j.jsxs("div",{className:"a8nywdso jbae33se rz4wbd8a cxgpxx05",children:[j.jsxs(b("TetraList.react"),{children:[j.jsx(b("TetraListCell.react"),{body:l(d==null?void 0:(o=d.viewer)==null?void 0:(o=o.account_user)==null?void 0:o.short_name),bodyColor:"secondary"}),((o=d==null?void 0:(o=d.viewer)==null?void 0:o.device_switchable_accounts)!=null?o:[]).map(function(a){var c;return n?j.jsx(b("CometLoggedInAccountSwitcherRowWithUpdateText.react"),{account:a,query:d},(c=a==null?void 0:(c=a.user)==null?void 0:c.id)!=null?c:void 0):j.jsx(b("CometLoggedInAccountSwitcherRow.react"),{account:a,query:d},(a=a==null?void 0:(c=a.user)==null?void 0:c.id)!=null?a:void 0)}),j.jsx(b("CometListItemSeparator.react"),{}),j.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("487087"),20),size:36,type:"contained-icon"},headline:h._("Log Into Another Account"),level:4,onPress:function(){q(),e()}})]}),j.jsxs("form",{action:m,method:"POST",ref:a,children:[j.jsx("input",{name:"h",type:"hidden",value:d==null?void 0:(o=d.viewer)==null?void 0:o.logout_hash}),j.jsx("input",{name:"ref",type:"hidden",value:"mb"}),j.jsx("input",{name:"next",type:"hidden",value:f})]})]})]})}}),null);
__d("CometProfileSwitcherPagePublishingAuthorizationCard.react",["ix","fbt","CometImage.react","CometTextWithEntitiesRelay.react","PagesIntegrityEventTypedLoggerLite","React","RelayHooks","TetraButton.react","asset","stylex","CometProfileSwitcherPagePublishingAuthorizationCard_query.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=b("PagesIntegrityEventTypedLoggerLite").log;function a(a){var c,d;a=a.query;a=b("RelayHooks").useFragment(i!==void 0?i:i=b("CometProfileSwitcherPagePublishingAuthorizationCard_query.graphql"),a);c=a==null?void 0:(c=a.viewer)==null?void 0:(c=c.actor)==null?void 0:c.id;var e=a==null?void 0:(d=a.viewer)==null?void 0:(d=d.actor)==null?void 0:d.page_publishing_authorization_admin_notice;d=a==null?void 0:(d=a.viewer)==null?void 0:(a=d.actor)==null?void 0:a.page_publishing_authorization_hub_action_url;j.useEffect(function(){e!=null&&k({event:"view",event_callsite:"profile_plus_switcher",event_target:"profile_plus_switcher_banner",extra_data:{is_comet_render:"true"}})},[e]);return c==null||e==null||d==null?null:j.jsx("div",{className:"dati1w0a hv4rvrfc sj5x9vvc",children:j.jsxs("div",{className:"dati1w0a hv4rvrfc sj5x9vvc qsy8amke",children:[j.jsxs("div",{className:"discj3wi scb9dxdr dflh9lhu sj5x9vvc btwxx1t3 j83agx80",children:[j.jsx("div",{children:j.jsx(b("CometImage.react"),{src:g("489662")})}),j.jsx("div",{className:"tw6a2znq lrazzd5p jq4qci2q j83agx80 bp9cbjyn",children:j.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:e})})]}),j.jsx("div",{className:"discj3wi dati1w0a hv4rvrfc ihqw7lf3 bp9cbjyn",children:j.jsx(b("TetraButton.react"),{label:h._("Get Started"),linkProps:{target:"_blank",url:d},onPress:function(){return k({event:"click",event_callsite:"profile_plus_switcher",event_target:"get_started_button",extra_data:{is_comet_render:"true"}})},padding:"wide"})})]})})}}),null);
__d("CometProfileSwitcher.react",["ix","fbt","CometBadge.react","CometProfilePlusExpressOnboardingDialog.entrypoint","CometProfileSwitcherPagePublishingAuthorizationCard.react","Locale","React","RelayHooks","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","WebPixelRatio","fbicon","promiseDone","stylex","JSResource","useCometEntryPointDialog","useProfileEngagementClickCallback","CometRelay","useCodedErrorDialog","useIsMountedRef","useProfileCometSwitcherCleanUpOnSwap","CometProfileSwitcher_query.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=b("Locale").isRTL(),l=b("JSResource")("CometProfileSwitchMutation").__setRef("CometProfileSwitcher.react");function a(a){var c,d,e,f=a.onClose,m=a.onReturn;a=a.query;a=b("RelayHooks").useFragment(i!==void 0?i:i=b("CometProfileSwitcher_query.graphql"),a);c={profile:a==null?void 0:(c=a.viewer)==null?void 0:c.actor,should_open_express_onboarding:!1}||{};d=(d=a==null?void 0:(d=a.viewer)==null?void 0:(d=d.actor)==null?void 0:(d=d.profile_switcher_eligible_profiles)==null?void 0:d.nodes)!=null?d:[];e=j.useState(a==null?void 0:(e=a.viewer)==null?void 0:(e=e.actor)==null?void 0:e.id);var n=e[0],o=e[1],p=(e=a==null?void 0:(e=a.viewer)==null?void 0:(e=e.actor)==null?void 0:e.is_failing_page_publishing_authorization)!=null?e:!1,q=b("useProfileEngagementClickCallback")({item_type:"profile",product_bucket:"profile_account_switcher",subsurface:"switch_profile_menu",surface:"navigation"}),r=b("useProfileCometSwitcherCleanUpOnSwap")(a),s=b("CometRelay").useRelayEnvironment(),t=b("useIsMountedRef")();e=b("useCodedErrorDialog")(h._("Failed to switch profiles"));var u=e[0],v=function(a){b("promiseDone")(l.load().then(function(b){b=b.switchProfile;b(s,{profileId:a},{onCompleted:function(){t.current&&f(),r(),window.location.assign("/")},onError:function(a){f(),u(a)}})}))};e=b("useCometEntryPointDialog")(b("CometProfilePlusExpressOnboardingDialog.entrypoint"),{});var w=e[0];return j.jsxs("div",{className:"cbu4d94t j83agx80",children:[j.jsxs("div",{className:"discj3wi dati1w0a hv4rvrfc sj5x9vvc btwxx1t3 j83agx80",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Back"),icon:k?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:m})}),j.jsx("div",{className:"tw6a2znq j83agx80 bp9cbjyn",children:j.jsx(b("TetraText.react"),{type:"headlineEmphasized1",children:h._("Select Profile")})})]}),j.jsx(b("CometProfileSwitcherPagePublishingAuthorizationCard.react"),{query:a}),j.jsx("div",{className:"cxgpxx05 jbae33se",children:j.jsx(b("TetraList.react"),{children:[c].concat(d).map(function(a){var c=a.profile,d=a.should_open_express_onboarding;return c!=null?j.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:40,source:{height:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.height)!=null?a:40,scale:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.scale)!=null?a:b("WebPixelRatio").get(),uri:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.uri)!=null?a:"",width:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.width)!=null?a:40},type:"profile-photo"},addOnSecondary:{on:n===c.id,type:"radio"},addOnSecondaryVerticalAlign:"center",body:p&&n!==c.id?j.jsxs(j.Fragment,{children:[j.jsx(b("CometBadge.react"),{color:"red"}),h._("Temporarily Restricted")]}):c.unseen_update_count!==null&&c.unseen_update_count!==0?j.jsxs(j.Fragment,{children:[j.jsx(b("CometBadge.react"),{}),h._({"*":"{number} updates","_1":"1 update"},[h._plural(c.unseen_update_count||0,"number")])]}):null,disabled:p&&n!==c.id,headline:c.name,level:4,onPress:function(){o(c.id);q();if(d===!0){var a;f();w({followerString:c.timeline_context_items&&((a=c.timeline_context_items)==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.title)==null?void 0:a.text),profileID:c.id,profileName:c.name})}else v(c.id)},testid:void 0},c.id):null})})})]})}}),null);
__d("CometSettingsDropdownAccessibility.react",["ix","fbt","CometDarkModeContext","Locale","React","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","fbicon","gkx","stylex","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=b("Locale").isRTL();function a(a){var c=a.onClose;a=a.onReturn;var d=i.useContext(b("CometDarkModeContext")),e=d.isDarkModeEnabled;d=d.onDarkModeToggle;var f=b("useShouldRenderFullTopNav")();e=[{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("832941"),20),size:36,type:"contained-icon"},addOnSecondary:{type:"switch",value:e},headline:h._("Dark Mode"),level:4,onPress:d},itemKey:"dark-mode",render:b("gkx")("919810")&&f},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1252034"),20),size:36,type:"contained-icon"},headline:h._("Font Size"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"font-size",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("577844"),20),size:36,type:"contained-icon"},headline:h._("Keyboard Shortcuts"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"keyboard-shortcuts",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1279095"),20),size:36,type:"contained-icon"},headline:h._("Contrast"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"contrast",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("662652"),20),size:36,type:"contained-icon"},headline:h._("Captions"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"captions-settings",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("508554"),20),size:36,type:"contained-icon"},headline:h._("Alt Text Settings"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"alt-settings",render:!0}].filter(function(a){return a.render});return i.jsxs("div",{className:"cbu4d94t j83agx80",children:[i.jsxs("div",{className:"dati1w0a sj5x9vvc hv4rvrfc discj3wi btwxx1t3 j83agx80",children:[i.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:i.jsx(b("TetraIcon.react"),{"aria-label":h._("Back"),icon:j?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:a})}),i.jsx("div",{className:"h4z51re5 j83agx80 bp9cbjyn",children:i.jsx(b("TetraText.react"),{type:"headlineEmphasized1",children:h._("Accessibility & Preferences")})})]}),i.jsx("div",{className:"a8nywdso jbae33se rz4wbd8a cxgpxx05",children:i.jsx(b("TetraList.react"),{items:e,children:function(a){var c=a.item.cellProps;a=a.props;return i.createElement(b("TetraListCell.react"),babelHelpers["extends"]({},c,{key:a.key}))}})})]})}}),null);
__d("CometSettingsDropdownAppearance.react",["ix","fbt","CometDarkModeContext","CometDensityModeContext","Locale","React","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","fbicon","stylex","useTopNavigationLogging"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("Locale").isRTL(),l={header:{display:"j83agx80",flexDirection:"btwxx1t3",paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"sj5x9vvc",paddingStart:"dati1w0a"},icon:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},list:{paddingTop:"cxgpxx05",paddingEnd:"rz4wbd8a",paddingBottom:"jbae33se",paddingStart:"a8nywdso"},root:{display:"j83agx80",flexDirection:"cbu4d94t"},spacer:{width:"thwo4zme"},title:{alignItems:"bp9cbjyn",display:"j83agx80",paddingStart:"h4z51re5"}},m={component:j.jsx("div",{className:(i||(i=b("stylex")))(l.spacer)}),type:"group_member_profile_primary_addon"};function a(a){a=a.onReturn;var c=j.useContext(b("CometDarkModeContext")),d=c.isDarkModeEnabled,e=c.setDarkModePreference;c=j.useContext(b("CometDensityModeContext"));var f=c[0],n=c[1];c=b("useTopNavigationLogging").useSettingsItemLoggingCallbacks("dark-mode",1,d);var o=c[0];c=c[1];var p=b("useTopNavigationLogging").useSettingsItemLoggingCallbacks("compact-mode",2,f),q=p[0];p=p[1];return j.jsxs("div",{className:(i||(i=b("stylex")))(l.root),children:[j.jsxs("div",{className:i(l.header),children:[j.jsx("div",{className:i(l.icon),children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Back"),icon:k?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:a})}),j.jsx("div",{className:i(l.title),children:j.jsx(b("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:h._("Display Preferences")})})]}),j.jsx("div",{className:i(l.list),children:j.jsxs(b("TetraList.react"),{children:[j.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("832941"),20),size:36,type:"contained-icon"},emphasized:!0,headline:h._("Appearance")}),j.jsx(b("TetraListCell.react"),{addOnPrimary:m,addOnSecondary:{on:!d,type:"radio"},headline:h._("Light Mode"),level:4,onPress:d?function(){o(),e(!1)}:void 0,ref:d?c:void 0}),j.jsx(b("TetraListCell.react"),{addOnPrimary:m,addOnSecondary:{on:d,type:"radio"},headline:h._("Dark Mode"),level:4,onPress:d?void 0:function(){o(),e(!0)},ref:d?void 0:c}),j.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("1252034"),20),size:36,type:"contained-icon"},emphasized:!0,headline:h._("Density")}),j.jsx(b("TetraListCell.react"),{addOnPrimary:m,addOnSecondary:{on:!f,type:"radio"},headline:h._("Standard"),level:4,onPress:f?function(){q(),n(!1)}:void 0,ref:f?p:void 0}),j.jsx(b("TetraListCell.react"),{addOnPrimary:m,addOnSecondary:{on:f,type:"radio"},headline:h._("Compact"),level:4,onPress:f?void 0:function(){q(),n(!0)},ref:f?void 0:p})]})})]})}c=a;e.exports=c}),null);
__d("CometSettingsDropdownHeader.react",["fbt","CometRelay","React","TetraListCell.react","XCometMeControllerRouteBuilder","gkx","useTopNavigationLogging","CometSettingsDropdownHeader_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("XCometMeControllerRouteBuilder").buildURL({});function a(a){var c,d,e,f=a.onClick,k=a.selected;a=a.viewer;a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometSettingsDropdownHeader_viewer.graphql"),a);c=a==null?void 0:(c=a.actor)==null?void 0:c.name;d=a==null?void 0:(d=a.actor)==null?void 0:(d=d.settings_dropdown_profile_picture)==null?void 0:d.uri;var l=b("useTopNavigationLogging").useSettingsItemLoggingCallbacks("profile",0,!1),m=l[0];l=l[1];e=((a==null?void 0:(e=a.actor)==null?void 0:(e=e.profileSwitcherEligibleProfiles)==null?void 0:e.count)||0)>0;e=b("gkx")("1663500")&&e;var n=e?36:60;return c==null?null:i.jsx(b("TetraListCell.react"),{addOnPrimary:d==null?void 0:{shape:"circle",size:n,source:{height:n,uri:d,width:n},type:"profile-photo"},addOnPrimaryVerticalAlign:"center",addOnSecondary:k!=null&&e?{on:k,type:"radio"}:null,addOnSecondaryVerticalAlign:"center",body:(a==null?void 0:(d=a.actor)==null?void 0:d.should_use_page_rename)===!0?g._("See your Page"):g._("See your profile"),emphasized:!0,headline:c,level:e?4:3,linkProps:{routeTarget:"self",url:j},onPress:function(a){f&&f(a),m()},ref:l})}}),null);
__d("CometSettingsDropdownListItem.react",["React","TetraListCell.react","useTopNavigationLogging"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.cellProps,d=a.itemKey,e=a.position;a=a.selected;var f=c.onPress;d=b("useTopNavigationLogging").useSettingsItemLoggingCallbacks(d,e,a);var h=d[0];e=d[1];a=g.useCallback(function(a){h(),f&&f(a)},[h,f]);return g.jsx(b("TetraListCell.react"),babelHelpers["extends"]({},c,{onPress:a,ref:e}))}}),null);
__d("CometSettingsDropdownQuickHelp.react",["ix","fbt","CometFRX.entrypoint","CometRelay","Locale","React","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","XCometPrivacyCheckupControllerRouteBuilder","fbicon","gkx","stylex","useCometEntryPointDialog","useCometReportBug","useNullthrowsViolation","useShouldRenderFullTopNav","CometSettingsDropdownQuickHelpQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=b("Locale").isRTL();function a(a){var c=a.onClose;a=a.onReturn;var d=b("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometSettingsDropdownQuickHelpQuery.graphql"),{});d=b("useNullthrowsViolation")((d=d.viewer)==null?void 0:(d=d.account_user)==null?void 0:d.id);var e=b("useCometReportBug")(),f=e[0];e=b("useCometEntryPointDialog")(b("CometFRX.entrypoint"),{entryPoint:"STRUCTURED_REPORT_BUTTON",id:d,location:"help_and_support"});var l=e[0];d=b("useShouldRenderFullTopNav")();e=[{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("496951"),20),size:36,type:"contained-icon"},headline:h._("Help Center"),level:4,linkProps:{target:"_blank",url:"https://www.facebook.com/help/"},onPress:c},render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497245"),20),size:36,type:"contained-icon"},headline:h._("Privacy Checkup"),level:4,linkProps:{url:b("XCometPrivacyCheckupControllerRouteBuilder").buildURL({source:"quick_help"})},onPress:c},render:d&&!b("gkx")("1336165")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497567"),20),size:36,type:"contained-icon"},headline:h._("Privacy Shortcuts"),level:4,linkProps:{url:"/privacy/"},onPress:c},render:d&&!b("gkx")("1336165")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("508554"),20),size:36,type:"contained-icon"},headline:h._("Help Community"),level:4,linkProps:{target:"_blank",url:"https://www.facebook.com/help/community/"},onPress:c},render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("495079"),20),size:36,type:"contained-icon"},headline:h._("Report Census or Voter Interference"),level:4,onPress:function(){l({}),c()}},render:b("gkx")("1300497")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("495079"),20),size:36,type:"contained-icon"},headline:h._("Support Inbox"),level:4,linkProps:{url:"/support?ref=contextual"},onPress:c},render:d},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("490580"),20),size:36,type:"contained-icon"},headline:h._("Report a Problem"),level:4,onPress:function(){f(),c()}},render:!0}].filter(function(a){return a.render});return j.jsxs("div",{className:"cbu4d94t j83agx80",children:[j.jsxs("div",{className:"dati1w0a sj5x9vvc hv4rvrfc discj3wi btwxx1t3 j83agx80",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Back"),icon:k?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:a})}),j.jsx("div",{className:"h4z51re5 j83agx80 bp9cbjyn",children:j.jsx(b("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:h._("Help & Support")})})]}),j.jsx("div",{className:"a8nywdso jbae33se rz4wbd8a cxgpxx05",children:j.jsx(b("TetraList.react"),{items:e,children:function(a){var c=a.item.cellProps;a=a.props;return j.createElement(b("TetraListCell.react"),babelHelpers["extends"]({},c,{key:a.key}))}})})]})}}),null);
__d("CometSettingsDropdownSettingsAndPrivacy.react",["ix","fbt","CometRelay","CometSettingsDropdownListItem.react","Locale","React","TetraIcon.react","TetraList.react","TetraText.react","XCometActivityLogControllerRouteBuilder","XCometPrivacyCheckupControllerRouteBuilder","fbicon","gkx","recoverableViolation","requireCond","stylex","useCometFeedPreferencesDialog","useCometInteractionTracing","useShouldRenderFullTopNav","cr:1571188","CometSettingsDropdownSettingsAndPrivacy_viewer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=(c=b("cr:1571188"))!=null?c:function(){return null},l=b("Locale").isRTL();function a(a){var c,d,e=a.onClose,f=a.onReturn;a=a.viewer;a=b("CometRelay").useFragment(i!==void 0?i:i=b("CometSettingsDropdownSettingsAndPrivacy_viewer.graphql"),a);var m=k();c=a==null?void 0:(c=a.actor)==null?void 0:c.username;d=a==null?void 0:(d=a.actor)==null?void 0:d.id;d=c==null||c===""?d:c;c=d==null||d===""?null:b("XCometActivityLogControllerRouteBuilder").buildURL({vanity:d});c==null&&b("recoverableViolation")("Was not able to get activity log uri for settings menu","comet_ui");d=(a==null?void 0:a.is_eligible_for_account_level_settings)===!0;a=d&&!b("gkx")("1545458");var n=b("useCometFeedPreferencesDialog")(),o=n[0];n=n[1];var p=b("useCometInteractionTracing")(30605385,"responsive","INTERACTION"),q=b("useShouldRenderFullTopNav")();a=[{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497567"),20),size:36,type:"contained-icon"},headline:h._("Settings"),level:4,linkProps:{url:"/settings"},onPress:e,testid:"CometSettingsButton"},itemKey:"settings-privacy",render:q},d===!1?null:{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("789724"),20),size:36,type:"contained-icon"},headline:h._("Privacy Checkup"),level:4,linkProps:{url:b("XCometPrivacyCheckupControllerRouteBuilder").buildURL({source:"settings_and_privacy"})},onPress:e,testid:"CometSettingsDropdownPrivacyCheckup"},itemKey:"privacy-checkup",render:q},a===!1?null:{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497245"),20),size:36,type:"contained-icon"},headline:h._("Privacy Shortcuts"),level:4,linkProps:{url:"/privacy/"},onPress:e},itemKey:"privacy",render:q},c==null?null:{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("486354"),20),size:36,type:"contained-icon"},headline:h._("Activity Log"),level:4,linkProps:{url:c},onPress:e},itemKey:"activity-log",render:q},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("607148"),20),size:36,type:"contained-icon"},headline:h._("News Feed Preferences"),level:4,onPress:function(){p(function(a){a.addMetadata("SurfaceType","Comet"),o()}),e()},onPressIn:n,testid:"CometNewsFeedPreferencesButton"},itemKey:"news-feed-preferences",render:q},d===!1?null:{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("487622"),20),size:36,type:"contained-icon"},headline:h._("Language"),level:4,linkProps:{url:"/settings?tab=language"},onPress:e,testid:"CometSettingsButton"},itemKey:"language",render:q},m].filter(Boolean).filter(function(a){return a.render});return j.jsxs("div",{className:"cbu4d94t j83agx80",children:[j.jsxs("div",{className:"dati1w0a sj5x9vvc hv4rvrfc discj3wi btwxx1t3 j83agx80",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Back"),icon:l?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:f})}),j.jsx("div",{className:"h4z51re5 j83agx80 bp9cbjyn",children:j.jsx(b("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:h._("Settings & Privacy")})})]}),j.jsx("div",{className:"a8nywdso jbae33se rz4wbd8a cxgpxx05",children:j.jsx(b("TetraList.react"),{items:a,children:function(a){var c,d=a.item,e=d.cellProps;d=d.itemKey;a=a.props;var f=e.addOnSecondary;c=(c=a.key)!=null?c:-1;f=f!=null&&f.value!=null?f.value:!1;return j.jsx(b("CometSettingsDropdownListItem.react"),{cellProps:e,itemKey:d,position:c,selected:f},a.key)}})})]})}}),null);
__d("CometProfileAndAccountSwitcher.react",["ix","fbt","CometBadge.react","CometListItemSeparator.react","CometLoggedInAccountSwitcher.react","CometProfilePlusExpressOnboardingDialog.entrypoint","CometProfileSwitcherPagePublishingAuthorizationCard.react","Locale","React","RelayHooks","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","WebPixelRatio","fbicon","orEmptyArray","promiseDone","stylex","JSResource","CometRelay","useCodedErrorDialog","useCometEntryPointDialog","useIsMountedRef","useProfileCometSwitcherCleanUpOnSwap","useProfileEngagementClickCallback","getProfileSwitcherListCellProps","CometProfileAndAccountSwitcher_query.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=b("Locale").isRTL(),l=b("JSResource")("CometProfileSwitchMutation").__setRef("CometProfileAndAccountSwitcher.react"),m=40;function a(a){var c,d,e,f=a.onClose,n=a.onReturn,o=a.pushPage;a=a.query;var p=b("RelayHooks").useFragment(i!==void 0?i:i=b("CometProfileAndAccountSwitcher_query.graphql"),a);a={profile:p==null?void 0:(a=p.viewer)==null?void 0:a.actor,should_open_express_onboarding:!1}||{};c=(c=p==null?void 0:(c=p.viewer)==null?void 0:(c=c.actor)==null?void 0:(c=c.profile_switcher_eligible_profiles)==null?void 0:c.nodes)!=null?c:[];var q=(d=p==null?void 0:(d=p.viewer)==null?void 0:(d=d.actor)==null?void 0:d.is_failing_page_publishing_authorization)!=null?d:!1;d=j.useState(p==null?void 0:(d=p.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id);var r=d[0],s=d[1];d={product_bucket:"profile_account_switcher",subsurface:"switch_profile_menu",surface:"navigation"};var t=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},d,{item_type:"profile"})),u=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},d,{item_type:"more"})),v=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},d,{item_type:"back"})),w=b("useProfileCometSwitcherCleanUpOnSwap")(p),x=b("CometRelay").useRelayEnvironment(),y=b("useIsMountedRef")();d=b("useCodedErrorDialog")(h._("Failed to switch profiles"));var z=d[0],A=function(a){b("promiseDone")(l.load().then(function(b){b=b.switchProfile;b(x,{profileId:a},{onCompleted:function(){y.current&&f(),w(),window.location.assign("/")},onError:function(a){f(),z(a)}})}))};d=p==null?void 0:(d=p.viewer)==null?void 0:d.first_account[0];e=b("orEmptyArray")(p==null?void 0:(e=p.viewer)==null?void 0:e.device_switchable_accounts);var B=0;e.forEach(function(a){B+=a.unread_notification_count||0});e=b("useCometEntryPointDialog")(b("CometProfilePlusExpressOnboardingDialog.entrypoint"),{});var C=e[0];return j.jsxs("div",{className:"cbu4d94t j83agx80",children:[j.jsxs("div",{className:"discj3wi dati1w0a hv4rvrfc sj5x9vvc btwxx1t3 j83agx80",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Back"),icon:k?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:function(){v(),n()}})}),j.jsx("div",{className:"tw6a2znq j83agx80 bp9cbjyn",children:j.jsx(b("TetraText.react"),{type:"headlineEmphasized1",children:h._("Switch Profile")})})]}),j.jsx(b("CometProfileSwitcherPagePublishingAuthorizationCard.react"),{query:p}),j.jsx("div",{className:"cxgpxx05 jbae33se",children:j.jsxs(b("TetraList.react"),{children:[[a].concat(c).map(function(a){var c=a.profile,d=a.should_open_express_onboarding;a=b("getProfileSwitcherListCellProps")({isFailingPagePublishingAuthorization:q,onPress:function(){s(c==null?void 0:c.id);t();if(d===!0){var a;f();C({followerString:(c==null?void 0:c.timeline_context_items)&&((a=c.timeline_context_items)==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.title)==null?void 0:a.text),profileID:c==null?void 0:c.id,profileName:c==null?void 0:c.name})}else A(c==null?void 0:c.id)},selected:r===(c==null?void 0:c.id),size:40,user:{id:c==null?void 0:c.id,name:c==null?void 0:c.name,profile_picture:c==null?void 0:c.profile_picture,unseen_update_count:c==null?void 0:c.unseen_update_count}});return j.createElement(b("TetraListCell.react"),babelHelpers["extends"]({},a,{key:c==null?void 0:c.id}))}),j.jsx(b("CometListItemSeparator.react"),{}),j.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:m,source:{height:(c=d==null?void 0:(e=d.user)==null?void 0:(a=e.profile_picture)==null?void 0:a.height)!=null?c:m,scale:(c=d==null?void 0:(e=d.user)==null?void 0:(a=e.profile_picture)==null?void 0:a.scale)!=null?c:b("WebPixelRatio").get(),uri:(c=d==null?void 0:(e=d.user)==null?void 0:(a=e.profile_picture)==null?void 0:a.uri)!=null?c:"",width:(c=d==null?void 0:(e=d.user)==null?void 0:(a=e.profile_picture)==null?void 0:a.width)!=null?c:m},type:"profile-photo"},addOnSecondary:{color:"secondary",icon:b("fbicon")._(g("492539"),24),type:"icon"},body:B>0?j.jsxs(j.Fragment,{children:[j.jsx(b("CometBadge.react"),{}),h._({"*":"{number} Updates","_1":"1 Update"},[h._plural(B||0,"number")])]}):null,headline:h._("Switch Accounts"),level:4,onPress:function(){return o(function(a){a=a.onReturn;u();return j.jsx(b("CometLoggedInAccountSwitcher.react"),{onClose:f,onReturn:a,query:p})})}},d==null?void 0:(e=d.user)==null?void 0:e.id)]})})]})}}),null);
__d("CometLoggedInAccountSwitcherPopoverMenu.entrypoint",["CometLoggedInAccountSwitcherPopoverMenuQuery$Parameters","JSResource"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(){return{queries:{root:{parameters:b("CometLoggedInAccountSwitcherPopoverMenuQuery$Parameters"),variables:{}}}}},root:b("JSResource")("CometLoggedInAccountSwitcherPopoverMenu.react").__setRef("CometLoggedInAccountSwitcherPopoverMenu.entrypoint")};e.exports=a}),null);
__d("useCometLoggedInAccountSwitcherListCell",["ix","fbt","CometBadge.react","CometEntryPointPopoverTrigger.react","CometLoggedInAccountSwitcher.react","CometLoggedInAccountSwitcherAccountForm.react","CometPopoverLoadingState.react","CometRelay","React","TetraIcon.react","WebPixelRatio","fbicon","gkx","orEmptyArray","stylex","useCometLoggedInAccountSwitcherSubmitForm","useProfileEngagementClickCallback","useCometLoggedInAccountSwitcherListCell_query.graphql","CometLoggedInAccountSwitcherPopoverMenu.entrypoint"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=36,l=20;(l-k)/2;function a(a,c,d){var e,f,m=b("CometRelay").useFragment(i!==void 0?i:i=b("useCometLoggedInAccountSwitcherListCell_query.graphql"),a);a=j.useRef(null);var n=b("useCometLoggedInAccountSwitcherSubmitForm")(m,a);e=b("orEmptyArray")(m==null?void 0:(e=m.viewer)==null?void 0:e.device_switchable_accounts);var o=0;e.forEach(function(a){o+=a.unread_notification_count||0});e={product_bucket:b("gkx")("1475594")?"profile_account_switcher":"account_switcher",subsurface:"settings_menu",surface:"navigation"};var p=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},e,{item_type:"account"})),q=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},e,{item_type:"more"}));e=m==null?void 0:(e=m.viewer)==null?void 0:(e=e.first_account)==null?void 0:e[0];var r=e==null?void 0:e.user;if((m==null?void 0:(f=m.viewer)==null?void 0:(f=f.device_switchable_accounts)==null?void 0:f.length)===1&&e!=null){f=e.form;e=e.unread_notification_count;if(f!=null){var s;return{cellProps:{addOnPrimary:{addOnTopEnd:((s=e)!=null?s:0)>0?{number:(s=e)!=null?s:0,type:"notificationBadge"}:void 0,shape:"circle",size:36,source:{height:(s=r==null?void 0:(e=r.profile_picture)==null?void 0:e.height)!=null?s:36,scale:(s=r==null?void 0:(e=r.profile_picture)==null?void 0:e.scale)!=null?s:b("WebPixelRatio").get(),uri:(s=r==null?void 0:(e=r.profile_picture)==null?void 0:e.uri)!=null?s:"",width:(s=r==null?void 0:(e=r.profile_picture)==null?void 0:e.width)!=null?s:36},type:"profile-photo"},addOnSecondary:{addOn:j.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",autoAlign:!0,entryPointParams:{},fallback:j.jsx(b("CometPopoverLoadingState.react"),{}),otherProps:{},popoverEntryPoint:b("CometLoggedInAccountSwitcherPopoverMenu.entrypoint"),popoverType:"menu",children:function(a,c){return j.jsx(b("TetraIcon.react"),{"aria-label":h._("Menu"),color:"secondary",icon:b("fbicon")._(g("484388"),24),onPress:c,ref:a})}}),type:"body"},body:j.jsxs(j.Fragment,{children:[h._("Log in as {name}",[h._param("name",r==null?void 0:r.name)]),j.jsx(b("CometLoggedInAccountSwitcherAccountForm.react"),{form:f,formRef:a})]}),headline:h._("Switch Account"),level:4,onPress:function(){p(),n()}},itemKey:"account-switcher",render:!0}}}e={addOnTopEnd:o>0?{number:o,type:"notificationBadge"}:void 0,shape:"circle",size:36,source:{height:(s=r==null?void 0:(e=r.profile_picture)==null?void 0:e.height)!=null?s:36,scale:(a=r==null?void 0:(f=r.profile_picture)==null?void 0:f.scale)!=null?a:b("WebPixelRatio").get(),uri:(s=r==null?void 0:(e=r.profile_picture)==null?void 0:e.uri)!=null?s:"",width:(a=r==null?void 0:(f=r.profile_picture)==null?void 0:f.width)!=null?a:36},type:"profile-photo"};return{cellProps:{addOnPrimary:b("gkx")("1475594")?e:{icon:function(){var a;return j.jsxs("div",{className:"l9j0dhe7",children:[(m==null?void 0:(a=m.viewer)==null?void 0:a.device_switchable_account_has_notification)?j.jsx("div",{className:"tkr6xdv7 nezaghv5 pmk7jnqg e712q9ov pq6dq46d",children:j.jsx(b("CometBadge.react"),{color:"red",isProfileBadge:!0,size:10})}):null,j.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("fbicon")._(g("622241"),20),size:l})]})},size:k,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Switch Accounts"),level:4,onPress:function(){c(function(a){a=a.onReturn;if(b("CometLoggedInAccountSwitcher.react")==null)return;q();return j.jsx(b("CometLoggedInAccountSwitcher.react"),{onClose:d,onReturn:a,query:m})})}},itemKey:"account-switcher",render:((f=m==null?void 0:(s=m.viewer)==null?void 0:(r=s.device_switchable_accounts)==null?void 0:r.length)!=null?f:0)>0}}}),null);
__d("useCometCombinedProfileAccountSwitcherListCell.react",["ix","fbt","CometProfileAndAccountSwitcher.react","CometProfileSwitcher.react","CometRelay","React","WebPixelRatio","fbicon","gkx","orEmptyArray","useCometLoggedInAccountSwitcherListCell","useProfileEngagementClickCallback","useCometCombinedProfileAccountSwitcherListCell_query.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function a(a,c,d){var e,f,k,l=b("CometRelay").useFragment(i!==void 0?i:i=b("useCometCombinedProfileAccountSwitcherListCell_query.graphql"),a);a=b("useCometLoggedInAccountSwitcherListCell")(l,c,d);e=(l==null?void 0:(e=l.viewer)==null?void 0:(e=e.actor)==null?void 0:(e=e.profile_switcher_eligible_profiles)==null?void 0:e.nodes)||[];f=b("orEmptyArray")(l==null?void 0:(f=l.viewer)==null?void 0:f.device_switchable_accounts);var m=b("useProfileEngagementClickCallback")({item_type:"more",product_bucket:"profile_account_switcher",subsurface:"settings_menu",surface:"navigation"});k=(l==null?void 0:(k=l.viewer)==null?void 0:(k=k.actor)==null?void 0:(k=k.profile_switcher_eligible_profiles)==null?void 0:k.count)||0;var n=f.length||0,o=0;e.forEach(function(a){o+=a.unseen_update_count||0});f.forEach(function(a){o+=a.unread_notification_count||0});e=b("gkx")("1663500")&&((l==null?void 0:(e=l.viewer)==null?void 0:(f=e.actor)==null?void 0:(e=f.first_profiles)==null?void 0:(f=e.nodes)==null?void 0:f.length)||0)>1;f=(l==null?void 0:(f=l.viewer)==null?void 0:(f=f.actor)==null?void 0:(f=f.first_profiles)==null?void 0:f.nodes.length)?l==null?void 0:(f=l.viewer)==null?void 0:(f=f.actor)==null?void 0:(f=f.first_profiles)==null?void 0:f.nodes[e?1:0].profile:null;var p=(f==null?void 0:f.profile_picture)||{},q=p.height,r=p.scale,s=p.uri;p=p.width;if(k!==0){return{cellProps:{addOnPrimary:f?{addOnTopEnd:o>0?{number:o,type:"notificationBadge"}:void 0,shape:"circle",size:36,source:{height:(k=q)!=null?k:36,scale:(f=r)!=null?f:b("WebPixelRatio").get(),uri:(q=s)!=null?q:"",width:(k=p)!=null?k:36},type:"profile-photo"}:null,addOnSecondary:{color:"secondary",icon:b("fbicon")._(g("492539"),24),type:"icon"},headline:n>0?e?h._("All Profiles and Accounts"):h._("Switch Profile or Account"):e?h._("All Profiles"):h._("Switch Profile"),level:4,onPress:function(){n>0?c(function(a){a=a.onReturn;if(b("CometProfileAndAccountSwitcher.react")==null)return;m();return j.jsx(b("CometProfileAndAccountSwitcher.react"),{onClose:d,onReturn:a,pushPage:c,query:l})}):c(function(a){a=a.onReturn;if(b("CometProfileSwitcher.react")==null)return;m();return j.jsx(b("CometProfileSwitcher.react"),{onClose:d,onReturn:a,query:l})})},testid:"CometSettingsCombinedProfileAccountSwitcher"},itemKey:"profile-account-switcher",render:!0}}return a}}),null);
__d("CometSettingsDropdownList.react",["ix","fbt","CometDarkModeContext","CometLegalFooter.react","CometMenuSeparator.react","CometOptOutStrings","CometRelay","CometSettingsDropdownAccessibility.react","CometSettingsDropdownAppearance.react","CometSettingsDropdownHeader.react","CometSettingsDropdownListItem.react","CometSettingsDropdownQuickHelp.react","CometSettingsDropdownSettingsAndPrivacy.react","Locale","React","TetraList.react","TetraListCell.react","WebPixelRatio","fbicon","gkx","qex","requireCond","stylex","useCometCombinedProfileAccountSwitcherListCell.react","useCometLogout","useCometReportBug","useCometTriggerOptOut","useShouldRenderFullTopNav","cr:1556982","cr:1205224","cr:1673052","CometSettingsDropdownListQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=b("Locale").isRTL(),l=b("gkx")("1663500"),m=(c=b("cr:1673052"))!=null?c:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{args:b,cellProps:{},itemKey:"profile-account-switcher",render:!1}};function a(a){var c=a.onClose,d=a.pushPage;a=b("useCometReportBug")();var e=a[0];a=j.useContext(b("CometDarkModeContext"));var f=a.isDarkModeEnabled;a=a.onDarkModeToggle;var n=b("useShouldRenderFullTopNav")(),o=b("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometSettingsDropdownListQuery.graphql"),{inProfileSwitcherEntry:l,scale:b("WebPixelRatio").get(),shouldShowPagesUnit:b("gkx")("1556983")}),p=b("useCometLogout").useCometLogout(),q=j.useState(!1),r=q[0],s=q[1];q=j.useCallback(function(a){return s(!0)},[s]);q=m(o,c,q,r);var t=b("useCometCombinedProfileAccountSwitcherListCell.react")(o,d,c),u=o.viewer,v=b("useCometTriggerOptOut")("SETTINGS_MENU");o=(u==null?void 0:(o=u.actor)==null?void 0:(o=o.profileSwitcherEligibleProfiles)==null?void 0:o.count)||0;f=[l?null:t,{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497567"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:k?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Settings & Privacy"),level:4,onPress:function(){d(function(a){a=a.onReturn;return j.jsx(b("CometSettingsDropdownSettingsAndPrivacy.react"),{onClose:c,onReturn:a,viewer:u})})},testid:"CometSettingsDropdownSettingsAndPrivacy"},itemKey:"settings-privacy-folder",render:n},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("496951"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:k?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Help & Support"),level:4,onPress:function(){d(function(a){a=a.onReturn;return j.jsx(b("CometSettingsDropdownQuickHelp.react"),{onClose:c,onReturn:a})})}},itemKey:"help-support",render:n},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("832941"),20),size:36,type:"contained-icon"},addOnSecondary:{type:"switch",value:f},headline:h._("Dark Mode"),level:4,onPress:a},itemKey:"dark-mode",render:n&&!b("qex")._("1402375")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("832941"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:k?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Display Preferences"),level:4,onPress:function(){d(function(a){a=a.onReturn;return j.jsx(b("CometSettingsDropdownAppearance.react"),{onReturn:a})})}},itemKey:"dark-mode",render:n&&b("qex")._("1402375")===!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1243988"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:k?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Accessibility & Preferences"),level:4,onPress:function(){d(function(a){a=a.onReturn;return j.jsx(b("CometSettingsDropdownAccessibility.react"),{onClose:c,onReturn:a})})}},itemKey:"accessibility-settings",render:b("gkx")("1279132")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("641698"),20),size:36,type:"contained-icon"},body:b("CometOptOutStrings").getOptOutSettingsMenuItemBody(),headline:b("CometOptOutStrings").getOptOutSettingsMenuItemHeader(),level:4,onPress:function(){v(),c()}},itemKey:"switch-to-classic-facebook",render:n&&b("qex")._("934317")!=="forced"&&b("qex")._("1679297")!==!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1107405"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:k?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Translation"),level:4,onPress:function(){d(function(a){a=a.onReturn;return j.jsx(b("cr:1205224"),{onClose:c,onReturn:a,viewer:u})})}},itemKey:"internationalization",render:n&&b("cr:1205224")!=null},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("951888"),20),size:36,type:"contained-icon"},dataAttributes:{nocookies:"true"},headline:h._("Log Out"),level:4,onPress:function(){p(),c()},testid:"CometLogoutButton"},itemKey:"log-out",render:!0}].filter(function(a){return a==null?void 0:a.render}).filter(Boolean);return j.jsxs("div",{className:"aov4n071",children:[n?j.jsxs(j.Fragment,{children:[j.jsx(b("CometSettingsDropdownHeader.react"),{onClick:c,selected:!r&&o>0,viewer:u}),b("cr:1556982")!=null?j.jsx(b("cr:1556982"),{onClose:c,viewer:u}):null,l&&o>1?j.jsx(b("CometSettingsDropdownListItem.react"),{cellProps:q.cellProps,itemKey:q.itemKey,position:0,selected:r}):null,l&&o>0?j.jsx(b("CometSettingsDropdownListItem.react"),{cellProps:t.cellProps,itemKey:t.itemKey,position:o>1?1:0,selected:!1}):null,j.jsx(b("CometMenuSeparator.react"),{}),j.jsx(b("CometSettingsDropdownListItem.react"),{cellProps:{addOnPrimary:{icon:b("gkx")("678680")?b("fbicon")._(g("530509"),20):b("fbicon")._(g("693172"),20),shape:"circle",size:36,type:"contained-icon"},body:h._("Help us improve the new Facebook."),headline:b("gkx")("678680")?h._("Report a Problem"):h._("Give Feedback"),level:4,onPress:function(){c(),e()}},itemKey:"give-feedback",position:l?o>1?2:1:0,selected:!1}),j.jsx(b("CometMenuSeparator.react"),{})]}):null,j.jsx("div",{className:"a8nywdso sj5x9vvc rz4wbd8a ecm0bbzt",children:j.jsx(b("TetraList.react"),{items:f,children:function(a){var c,d=a.item,e=d.cellProps;d=d.itemKey;a=a.props;var f=e.addOnSecondary;c=(c=a.key)!=null?c:-1;f=f!=null&&f.value!=null?f.value:!1;return j.jsx(b("CometSettingsDropdownListItem.react"),{cellProps:e,itemKey:d,position:c,selected:f},a.key)}})}),j.jsx("div",{className:"dati1w0a ihqw7lf3 hv4rvrfc discj3wi",children:j.jsx(b("CometLegalFooter.react"),{})})]})}}),null);
__d("CometSettingsDropdown.react",["fbt","BaseMultiStepContainer.react","CometPopover.react","CometScrollableArea.react","CometSettingsDropdownList.react","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j={card:{maxHeight:"t1wsaese",maxWidth:"h77mwsce",width:"o36gj0jk"},root:{marginTop:"knvmm38d"}};function a(a){var c=a.onClose;return i.jsx("div",{className:(h||(h=b("stylex")))(j.root),children:i.jsx(b("CometPopover.react"),{label:g._("Account"),children:i.jsx(b("CometScrollableArea.react"),{xstyle:j.card,children:i.jsx("div",{children:i.jsx(b("BaseMultiStepContainer.react"),{children:function(a){return i.jsx(b("CometSettingsDropdownList.react"),{onClose:c,pushPage:a})}})})})})})}}),null);
__d("MWUIJewelMessageRequestsThread.bs",["requireCond","cr:1516272"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1516272").useHook;f.useHook=a}),null);
__d("MWUIJewelPreloadThreadFolder.bs",["requireCond","cr:1516191"],(function(a,b,c,d,e,f){"use strict";function a(){if(b("cr:1516191")==null)return function(a){return 0};else return b("cr:1516191").useHook()}f.$null$OR$MWMSJewelPreloadThreadFolder$requireCond=b("cr:1516191");f.useHook=a}),null);
__d("MWUIJewelPreloadThreadFolder.re",["MWUIJewelPreloadThreadFolder.bs"],(function(a,b,c,d,e,f){a=b("MWUIJewelPreloadThreadFolder.bs").useHook;f.useHook=a}),null);
__d("MWUIJewelSpamMessagesThread.bs",["requireCond","cr:1531918"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1531918").useHook;f.useHook=a}),null);
__d("MWUIJewelThreadlistFetcher.bs",["bs_curry","requireCond","cr:1604355"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(b("cr:1604355")==null)return 0;else return b("bs_curry")._3(b("cr:1604355").preloadItems,a,c,d)}f.preloadItems=a}),null);
__d("MWUIJewelThreadlistFetcher.re",["bs_curry","MWUIJewelThreadlistFetcher.bs"],(function(a,b,c,d,e,f){a=function(a,c,d){a=b("bs_curry")._3(b("MWUIJewelThreadlistFetcher.bs").preloadItems,a,c,d);return a};f.preloadItems=a}),null);
__d("MWUIMarkThreadAsRead.re",["MWUIMarkThreadAsRead.bs"],(function(a,b,c,d,e,f){a=b("MWUIMarkThreadAsRead.bs").useHook;f.useHook=a}),null);
__d("MWUIMarkThreadAsUnread.re",["MWUIMarkThreadAsUnread.bs"],(function(a,b,c,d,e,f){a=b("MWUIMarkThreadAsUnread.bs").useHook;f.useHook=a}),null);
__d("MWUIThreadProfileLink.re",["MWUIThreadProfileLink.bs"],(function(a,b,c,d,e,f){a=b("MWUIThreadProfileLink.bs").useHook;f.useHook=a}),null);
__d("MWMSIsCurrentThreadMuted.bs",["MercuryThreadInfo","MWMSCurrentThreadDetails.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWMSCurrentThreadDetails.bs").useHook(0);if(a==null)return[!1,0];else{var c=a.mute_until;c=c==null?0:c;return[b("MercuryThreadInfo").isMuted(a),c]}}f.useHook=a}),null);
__d("MWMSIsCurrentThreadUnread.bs",["MWMSCurrentThreadDetails.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWMSCurrentThreadDetails.bs").useHook(0);if(a==null)return!1;else return a.unread_count>0}f.useHook=a}),null);
__d("MWMSCurrentThreadDetails.re",["MWMSCurrentThreadDetails.bs"],(function(a,b,c,d,e,f){a=b("MWMSCurrentThreadDetails.bs").useHook;f.useHook=a}),null);
__d("MessengerReadReceipt.re",["bs_curry","MessengerReadReceipt.bs"],(function(a,b,c,d,e,f){a=function(a,c,d){a=b("bs_curry")._3(b("MessengerReadReceipt.bs").getSeenBy,a,c,d);return a};f.getSeenBy=a;c=function(a,c){a=b("bs_curry")._2(b("MessengerReadReceipt.bs").getSeenTimestamps,a,c);return a};f.getSeenTimestamps=c}),null);
__d("MWMSJewelThreadSeenByImages",["CurrentUser","MessengerParticipants.re","MessengerReadReceipt.re","MessengerState.re","MWMSCurrentThreadDetails.re"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=b("MessengerState.re").useHook(b("CurrentUser").getID());a=b("MessengerState.re").readReceiptsPerThread(a);var c=b("MWMSCurrentThreadDetails.re").useHook();if(c==null)return[];var d=c==null?void 0:c.snippet_sender;a=d!=null?b("MessengerReadReceipt.re").getSeenBy(a,{author:d,status:null,thread_id:c.thread_id,timestamp:c.timestamp},!0):[];var e=Object.fromEntries(c.participants.map(function(a){return b("MessengerParticipants.re").getNow(a)}).filter(Boolean).map(function(a){return[a.id,a]}));return a.map(function(a){a=e[a];return a!=null&&a.image_src!=null?{alt:a.name,src:a.image_src}:null}).filter(Boolean)};f.useHook=a}),null);
__d("MWMSJewelThreadSeenByImages.bs",["MWMSJewelThreadSeenByImages"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWMSJewelThreadSeenByImages").useHook()}f.useHook=a}),null);
__d("MessengerGraphQLThreadlistFetcher.re",["bs_curry","MessengerGraphQLThreadlistFetcher.bs"],(function(a,b,c,d,e,f){a=function(a,c,d,e){a=b("bs_curry")._4(b("MessengerGraphQLThreadlistFetcher.bs").fetchAll,a,c,d,e);return a};f.fetchAll=a}),null);
__d("MWMSJewelThreadlistFetcher",["MercuryServerPayloadPreprocessor","MessengerGraphQLThreadlistFetcher.re","MessengerWebGraphQLTypedLogger","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g={inbox:!1,other:!1,pending:!1},h=20;f.PAGINATION_COUNT=h;var i=function(a,b){return a.map(function(a){var c=[a.folder.toUpperCase()];a.filter!=null&&c.push(a.filter);return{filter:a.filter,folder:a.folder,includeDeliveryReceipts:!0,includeSeqID:!1,isWorkUser:!1,limit:b==null?h:h+1,onlyPinnedThreads:!1,tags:c,timestamp:b}})};f._createParams=i;var j=function(a,c){b("promiseDone")(b("MessengerGraphQLThreadlistFetcher.re").fetchAll(a,c,!1,"fetch_threadlist"),function(c){return b("MercuryServerPayloadPreprocessor").getForFBID(a).handleUpdate(babelHelpers["extends"]({},c,{payload_source:"server_fetch_threadlist_info"}))},function(a){a=typeof a==="object"&&a!==null&&a.errors!=null?a.errors:a;new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(JSON.stringify(a)).setEvent("threadlist_failure").setQueryParams(JSON.stringify(c)).log()})};f._loadItems=j;a=function(a,b,c){j(a,i([{folder:b}],c))};f.loadItems=a;c=function(a,b,c){g[b]||(g[b]=!0,j(a,i([{folder:b}].concat(c===!0?[{filter:"unread",folder:"pending"}]:[]),null)))};f.preloadItems=c}),null);
__d("MWMSLastMessageTimestamp.bs",["MWMSCurrentThreadDetails.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWMSCurrentThreadDetails.bs").useHook(0);if(a==null)return 0;else return a.last_message_timestamp}f.useHook=a}),null);
__d("MWMSMarkSeen.bs",["React","Actor.re","MercuryServerRequests"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=b("Actor.re").useActor();var c=a[0];return g.useCallback(function(a){b("MercuryServerRequests").getForFBID(c).markSeen();return 0},[c])}f.useHook=a}),null);
__d("MWMSJewelConstants",[],(function(a,b,c,d,e,f){"use strict";a="all";f.ALL=a;b="unread";f.UNREAD=b}),null);
__d("MWMSJewelGetOngoingCallData",["MWMSCurrentThreadDetails.re"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;function a(){var a=b("MWMSCurrentThreadDetails.re").useHook();return a==null?void 0:a.rtc_call_data}}),null);
__d("MWMSJewelGetOngoingCallData.bs",["MWMSJewelGetOngoingCallData"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWMSJewelGetOngoingCallData").useHook()}f.useHook=a}),null);
__d("MWMSJewelGetThreadIDs",["Actor","MercuryIDs","MessengerState.re","MWChatThreadId.re","MWMSJewelConstants"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;function a(a){var c=b("Actor").useActor(),d=c[0];c=b("MessengerState.re").useHook(d);c=b("MessengerState.re").threadlistOrderMap(c)[a];a=c!=null?c[b("MWMSJewelConstants").ALL]:null;a=(c=a==null?void 0:a.threadlist)!=null?c:[];var e=[];a.forEach(function(a){var c=b("MessengerState.re").getThreadMetaNow(d,a),f=c==null?void 0:c.thread_type;if(c&&f!=null){f=b("MWChatThreadId.re").deserializeThreadlistIdUseOnlyInJewel(b("MercuryIDs").getThreadFBIDFromThreadID(a),f,(a=c.is_other_recipient_page)!=null?a:!1);f!=null&&e.push(f)}});return e}}),null);
__d("MWMSJewelGetThreadIDs.bs",["MWMSJewelGetThreadIDs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWMSJewelGetThreadIDs").useHook(a)}f.useHook=a}),null);
__d("MWMSJewelHasReachedEnd",["Actor","MessengerState.re","MWMSJewelConstants"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;function a(a){var c=b("Actor").useActor();c=c[0];c=b("MessengerState.re").useHook(c);c=b("MessengerState.re").threadlistOrderMap(c)[a];a=c!=null?c[b("MWMSJewelConstants").ALL]:null;return a==null?void 0:a.reachedEnd}}),null);
__d("MWMSJewelHasReachedEnd.bs",["MWMSJewelHasReachedEnd"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("MWMSJewelHasReachedEnd").useHook(a)}f.useHook=a}),null);
__d("MWMSJewelIsActorSnippetSender.bs",["MercuryIDs","CurrentUser","MWMSCurrentThreadDetails.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWMSCurrentThreadDetails.bs").useHook(0);if(a==null)return!1;else{a=a.snippet_sender;if(a==null)return!1;else return a===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())}}f.useHook=a}),null);
__d("MWMSJewelLoadMoreThreads",["Actor","MessengerState.re","MWMSJewelConstants","MWMSJewelThreadlistFetcher"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;function a(a){var c=b("Actor").useActor(),d=c[0],e=b("MessengerState.re").useHook(d);c=b("MessengerState.re").threadlistOrderMap(e)[a];c=c!=null?c[b("MWMSJewelConstants").ALL]:null;var f=(c=c==null?void 0:c.threadlist)!=null?c:[],g=function(){var a=f&&f.length>0?f[f.length-1]:null;if(a==null)return null;a=b("MessengerState.re").threads(e)[a];return a?a.timestamp:null};c=function(){b("MWMSJewelThreadlistFetcher").loadItems(d,a,g())};return c}}),null);
__d("MWMSJewelLoadMoreThreads.bs",["MWMSJewelLoadMoreThreads"],(function(a,b,c,d,e,f){"use strict";a=b("MWMSJewelLoadMoreThreads").useHook;f.useHook=a}),null);
__d("MWJewelThreadSnippet.react",["React","TetraText.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.isUnread;a=a.text;return c?g.jsx(b("TetraText.react"),{color:"highlight",numberOfLines:1,type:"bodyLink4",children:a}):g.jsx(b("TetraText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:a})}}),null);
__d("MWJewelMessageRequestsThread.react",["ix","fbt","Locale","MWJewelThreadSnippet.react","React","TetraIcon.react","TetraListCell.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.onOpenMessageRequests,d=a.otherParticipantName;a=a.unreadRequestsCount;var e=h._({"*":"New Message Requests","_1":"New Message Request"},[h._plural(a)]),f=h._({"someone":"From someone you may know","people":"From people you may know"},[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]);d!=null&&(a===1?f=h._("From {name}",[h._param("name",d)]):f=h._("From {name} and {count} more",[h._param("name",d),h._param("count",a-1)]));return i.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492485"),16):b("fbicon")._(g("492533"),16)}),type:"body"},body:i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:!0,text:f}),headline:e,level:4,onPress:c})}}),null);
__d("MWMSJewelMessageRequestsThread.react",["Actor","MessengerParticipants.re","MessengerState.re","MWJewelMessageRequestsThread.react","MWMSJewelConstants","React"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;var g=b("React"),h="pending";function a(a){var c=b("Actor").useActor();c=c[0];c=b("MessengerState.re").useHook(c);if(a==null)return;var d=b("MessengerState.re").threadlistOrderMap(c)[h];d=d!=null?d[b("MWMSJewelConstants").UNREAD]:null;d=d==null?void 0:d.threadlist;if(d==null)return;var e=d.length;if(e>0){c=b("MessengerState.re").thread(c,d[0]);d=c==null?void 0:c.snippet_sender;d=d!=null?b("MessengerParticipants.re").getNow(d):null;if(c!=null)return g.jsx(b("MWJewelMessageRequestsThread.react"),{onOpenMessageRequests:a,otherParticipantName:d==null?void 0:d.name,unreadRequestsCount:e})}}}),null);
__d("MWMSJewelMessageRequestsThread.bs",["MWMSJewelMessageRequestsThread.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWMSJewelMessageRequestsThread.react").useHook;f.useHook=a}),null);
__d("MWMSJewelPreloadThreadFolder",["Actor","MWMSJewelThreadlistFetcher","React"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;var g=b("React");function a(){var a=b("Actor").useActor(),c=a[0];return g.useCallback(function(a){b("MWMSJewelThreadlistFetcher").preloadItems(c,a)},[c])}}),null);
__d("MWMSJewelPreloadThreadFolder.bs",["MWMSJewelPreloadThreadFolder"],(function(a,b,c,d,e,f){"use strict";a=b("MWMSJewelPreloadThreadFolder").useHook;f.useHook=a}),null);
__d("MWJewelSpamMessagesThread.react",["ix","fbt","Locale","MWJewelThreadSnippet.react","React","TetraIcon.react","TetraListCell.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.spamMessagesCount,d=a.loadedAll;a=a.onOpenSpamMessages;var e=h._("See Spam");d=d?h._("{number} Requests",[h._param("number",c)]):h._("{number}+ Requests",[h._param("number",c)]);return i.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492485"),16):b("fbicon")._(g("492533"),16)}),type:"body"},body:i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:!1,text:d}),headline:e,level:4,onPress:a})}}),null);
__d("MWMSJewelSpamMessagesThread.react",["Actor","MessengerState.re","MWJewelSpamMessagesThread.react","MWMSJewelConstants","React"],(function(a,b,c,d,e,f){"use strict";f.useHook=a;var g=b("React"),h="other";function a(a){var c=b("Actor").useActor();c=c[0];c=b("MessengerState.re").useHook(c);if(a==null)return;c=b("MessengerState.re").threadlistOrderMap(c)[h];c=c!=null?c[b("MWMSJewelConstants").ALL]:null;var d=c==null?void 0:c.threadlist;if(d==null)return;d=d.length;if(d>0)return g.jsx(b("MWJewelSpamMessagesThread.react"),{loadedAll:(c==null?void 0:c.reachedEnd)===!0,onOpenSpamMessages:a,spamMessagesCount:d})}}),null);
__d("MWMSJewelSpamMessagesThread.bs",["MWMSJewelSpamMessagesThread.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWMSJewelSpamMessagesThread.react").useHook;f.useHook=a}),null);
__d("MWThreadListGlimmer_DEPRECATED.bs",["React","stylex","BaseGlimmer.react"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={glimmerBody:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"cyypbtt7",width:"eq70wtua"},glimmerHeadline:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"gl3lb2sf",marginBottom:"oud54xpy",width:"n99xedck"},glimmerPhoto36:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",height:"tv7at329",marginTop:"aov4n071",marginEnd:"wkznzc2l",marginBottom:"bi6gxh9e",marginStart:"hcukyx3x",width:"thwo4zme"},glimmerPhoto56:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",height:"e5d9fub0",marginTop:"aov4n071",marginEnd:"wkznzc2l",marginBottom:"bi6gxh9e",marginStart:"hcukyx3x",width:"oeao4gh3"},glimmerRoot:{display:"j83agx80",paddingStart:"dati1w0a"},glimmerText:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",justifyContent:"taijpn5t"}};function a(a){return h.jsxs("div",{children:[h.jsx(b("BaseGlimmer.react"),{className:(g||(g=b("stylex")))(i.glimmerPhoto56),index:0}),h.jsxs("div",{children:[h.jsx(b("BaseGlimmer.react"),{className:g(i.glimmerHeadline),index:1}),h.jsx(b("BaseGlimmer.react"),{className:g(i.glimmerBody),index:2})],className:g(i.glimmerText)})],className:g(i.glimmerRoot)})}c=a;f.styles=i;f.make=c}),null);
__d("MWJewelOpenTabForCurrentThread.bs",["bs_curry","React","MWThread_DEPRECATED.bs","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWChatOpenTabForGroup.bs","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){var e=b("MWThread_DEPRECATED.bs").useIdExn(0),f=b("MWChatOpenTabForUser.bs").useHook(void 0,d),h=f[0],i=b("MWChatOpenTabForPage.bs").useHook(void 0,d);f=b("MWChatOpenTabForGroup.bs").useHook(void 0,d);var j=f[0];return g.useCallback(function(d){d=d.metaKey||d.ctrlKey||d.shiftKey;if(a&&!d){d=e[0];d>=892012143?d>=948354667?b("bs_curry")._1(h,e[1]):b("bs_curry")._1(i,e[1]):d>=757211935?b("bs_curry")._1(j,e[1]):b("unrecoverableViolation")("UserSecret Not supported","messenger_web_product")}return b("bs_curry")._1(c,0)},[h,j,i,c,a,e])}f.useHook=a}),null);
__d("MWThreadListLastMessage_DEPRECATED.bs",["fbt","React","Locale","stylex","TetraText.react","CometMiddot.react","MWJewelThreadSnippet.react","CometRelativeTimestamp.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={middot:{marginTop:"kvgmc6g5",marginEnd:"cgat1ltu",marginBottom:"oygrvhab",marginStart:"kkf49tns"},root:{display:"j83agx80"},rootRtl:{flexDirection:"rl25f0pe"},timestamp:{whiteSpace:"g0qnabr5"}};function a(a){var c=a.hasOngoingCall,d=a.lastMessageTimestamp,e=a.snippet;a=a.isUnread;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:a,text:e}),i.jsx("span",{children:i.jsx(b("TetraText.react"),{type:"body4",children:i.jsx(b("CometMiddot.react"),{})}),className:(h||(h=b("stylex")))(j.middot)}),i.jsx("span",{children:i.jsx(b("CometRelativeTimestamp.react"),{date:new Date(d),format:"minimized"}),className:h(j.timestamp)})],className:h(j.root,b("Locale").isRTL()?j.rootRtl:!1)}),c?i.jsx(b("TetraText.react"),{color:"positive",type:"body4",children:g._("Ongoing call")}):null]})}c=a;f.styles=j;f.make=c}),null);
__d("RTWebInboxJoinOngoingCallIcon.react",["ix","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=function(a){switch(a){case"AUDIO_GROUP_CALL":return b("fbicon")._(g("558161"),20);case"VIDEO_GROUP_CALL":return b("fbicon")._(g("493174"),20);default:return null}};function a(a){var c=a.hidden;a=a.ongoingCallType;if(c)return null;c=i(a);return c===null?null:h.jsx("div",{className:"ke6wolob rk01pc8j pmk7jnqg mrt03zmi rm21btxo akv41dx8 spb7xbtv bkmhp75w emlxlaya s45kfl79",children:h.jsx("div",{className:"thwo4zme l9j0dhe7 a8nywdso qt6c0cv9 rz4wbd8a jb3vyjys taijpn5t tv7at329 j83agx80 rq0escxv sk4xxmp2 agehan2d n8ej3o3l rt8b4zig spb7xbtv bkmhp75w emlxlaya s45kfl79 h5vs1ck6 bp9cbjyn",children:h.jsx(b("TetraIcon.react"),{color:"white",icon:c,size:20})})})}}),null);
__d("useMWJewelThreadAddOnSecondary",["ix","fbt","CometBadge.react","CometPressable.react","MWUIMarkThreadAsRead.re","React","TetraIcon.react","TetraOverlappingFacepileUnstyled.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=h._("Mark as Read");function a(a,c,d,e){var f=b("MWUIMarkThreadAsRead.re").useHook();if(a)return{addOn:i.jsx(b("CometPressable.react"),{"aria-label":j,expanding:!0,onPress:function(){return f()},children:i.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:12})}),type:"body"};if(c)return{addOn:i.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("569284"),16)}),type:"body"};if(d)if(e.length===0)return{addOn:i.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("498145"),16)}),type:"body"};else return{addOn:i.jsx(b("TetraOverlappingFacepileUnstyled.react"),{count:e.length,isTextInline:!0,items:e.map(function(a){return{alt:a.alt,source:{uri:a.src}}}),size:16}),type:"body"};return{addOn:i.jsx("div",{className:"fwizqjfa cyypbtt7"}),type:"body"}}}),null);
__d("MWThreadListItem_DEPRECATED.bs",["fbt","bs_curry","React","gkx","stylex","bs_belt_Option","bs_caml_option","TetraText.react","requireDeferred","useCometPreloader","CometEmojiTransform","MWMSLoadThreadTitle.bs","MWMSSnippetRenderer.bs","MWThread_DEPRECATED.bs","TetraListCell.react","MWMSLoadThreadPicture.bs","CometEmoticonTransform","getMWThreadAddOnPrimary","useMWChatOpenTabForUser","MWMSIsCurrentThreadMuted.bs","MWMSLastMessageTimestamp.bs","MWMSIsCurrentThreadUnread.bs","MWMSPresenceIsThreadActive.bs","MWThreadIsMuted_DEPRECATED.bs","CometTextWithEntities.react","MWMSJewelGetOngoingCallData.bs","MWMSJewelThreadSeenByImages.bs","useMenuButtonVisibilityState","MWMSJewelIsActorSnippetSender.bs","CometListCellHoverButton.react","MWJewelOpenTabForCurrentThread.bs","useMWJewelThreadAddOnSecondary","MWThreadListLastMessage_DEPRECATED.bs","RTWebInboxJoinOngoingCallIcon.react","XCometMessengerControllerRouteBuilder","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c={};var j={listItemContainer:{position:"l9j0dhe7"}};function a(a){var c=a.messagingEntrypoint,d=a.onClose,e=a.selected;a=a.size;var f=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),k=b("useMWChatOpenTabForUser")(c),l=k[1];k=i.useState(function(){return!1});var m=k[1];k=i.useRef(null);var n=b("MWMSPresenceIsThreadActive.bs").useHook(0),o=b("MWThread_DEPRECATED.bs").useFBID(0),p=b("MWMSJewelGetOngoingCallData.bs").useHook(0),q=b("MWMSJewelThreadSeenByImages.bs").useHook(0),r=b("MWMSIsCurrentThreadUnread.bs").useHook(0),s=b("MWMSIsCurrentThreadMuted.bs").useHook(0);s=s[1];var t=b("MWMSLoadThreadTitle.bs").useHook(0);t=t[0];var u=b("MWMSSnippetRenderer.bs").useHook(0),v=b("MWMSLoadThreadPicture.bs").useHook(0),w=b("MWMSJewelIsActorSnippetSender.bs").useHook(0),x=b("MWMSLastMessageTimestamp.bs").useHook(0),y=b("MWThreadIsMuted_DEPRECATED.bs").getThreadIsMuted(s*1e3),z=b("useMenuButtonVisibilityState")(),A=z[1],B=A.setListItemHovered,C=i.useCallback(function(a){b("bs_curry")._1(B,!1);return b("bs_curry")._1(m,function(a){return!1})},[B]),D=i.useCallback(function(a){b("bs_curry")._1(B,!0);return b("bs_curry")._1(m,function(a){return!0})},[B]);v=b("getMWThreadAddOnPrimary")(v,t,n,a);n=b("useMWJewelThreadAddOnSecondary")(r,y,w,q);a=b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:o});y=b("MWJewelOpenTabForCurrentThread.bs").useHook(f,d,c);w=i.useCallback(function(a){if(b("gkx")("1421151"))return b("bs_curry")._1(l,o);else return 0},[l,o]);q=b("useCometPreloader")("button",w,w);w=(c=b("bs_belt_Option")).getWithDefault(c.getWithDefault(c.map(p,function(a){return b("bs_caml_option").nullable_to_opt(a.call_state)}),void 0),"NO_ONGOING_CALL");var E=w!=="NO_ONGOING_CALL";c=c.getWithDefault(t,g._("Facebook User"));t=i.jsx(b("TetraText.react"),{color:"primary",type:r?"headlineEmphasized4":"body3",numberOfLines:1,children:i.jsx(b("CometTextWithEntities.react"),{text:c.toString(),transforms:[b("CometEmoticonTransform")(),b("CometEmojiTransform")()]})});c={body:i.jsx(b("MWThreadListLastMessage_DEPRECATED.bs").make,{hasOngoingCall:E,lastMessageTimestamp:x,snippet:u,isUnread:r}),headline:t,addOnSecondary:n,bodyLineLimit:1,emphasized:r,headlineLineLimit:1,level:4,linkProps:{preventLocalNavigation:f,url:a},onHoverIn:q[0],onHoverOut:q[1],onPress:y,selected:e};x=v==null?void 0:b("bs_caml_option").some(v);x!==void 0&&(c.addOnPrimary=b("bs_caml_option").valFromOption(x));return i.jsxs("div",{children:[i.jsx("div",{children:i.jsx(b("TetraListCell.react"),c),ref:k}),i.jsx(b("RTWebInboxJoinOngoingCallIcon.react"),{hidden:!E,ongoingCallType:w}),i.jsx(b("CometListCellHoverButton.react"),{hidden:!z[0],onFocusChange:A.setMenuBtnFocused,onHoverChange:A.setMenuBtnHovered,onMenuStateChange:A.setMenuOpened,popoverResource:b("requireDeferred")("MWThreadListHoverButtonDropdownMenu_DEPRECATED.react"),popoverProps:{callData:p,fbid:o,isUnread:r,mutedUntil:s,onCloseJewel:d},popoverTriggerType:"lazy"})],className:(h||(h=b("stylex")))(j.listItemContainer),onMouseEnter:D,onMouseLeave:C})}d=a;f.RTWebInboxJoinOngoingCallIcon=c;f.styles=j;f.make=d}),null);
__d("MWThreadList_DEPRECATED.bs",["fbt","bs_curry","React","bs_caml_obj","stylex","bs_belt_Option","bs_caml_option","MWMSMarkSeen.bs","MWChatThreadId.bs","TetraText.react","FocusRegion.react","MWThread_DEPRECATED.bs","useSimpleImpression","MWMSJewelGetThreadIDs.bs","MWMSJewelHasReachedEnd.bs","MessengerWebEntryPoint","MWMSJewelLoadMoreThreads.bs","CometHeroHoldTrigger.react","MWThreadListItem_DEPRECATED.bs","MWUIJewelSpamMessagesThread.bs","MWMSJewelPreloadThreadFolder.bs","MWThreadListGlimmer_DEPRECATED.bs","MWUIJewelMessageRequestsThread.bs","CometInfiniteScrollTrigger.react","CometSettingsListDropdownLoadingState.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={emptyInbox:{paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a"},noOverflow:{overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function a(a){var c=a.folder,d=a.isLoading,e=a.setIsLoading,f=a.searchTypeahead,k=a.onOpenMessageRequests,l=a.onOpenSpamMessages,m=a.threadListMessagingEntrypoint,n=a.selectedThreadID,o=a.onClose,p=i.useRef(0);a=b("MWMSJewelGetThreadIDs.bs").useHook(c);var q=b("MWMSJewelLoadMoreThreads.bs").useHook(c),r=b("MWMSJewelHasReachedEnd.bs").useHook(c),s=b("MWMSJewelPreloadThreadFolder.bs").useHook(),t=b("MWMSMarkSeen.bs").useHook(0),u=a.length;i.useEffect(function(){u===0&&r!==!0&&s(c);return},[c,u,r,s]);b("useSimpleImpression")(t);i.useEffect(function(){u>p.current&&d&&(p.current=u,b("bs_curry")._1(e,!1));return},[u,p,d,e]);t=f!==void 0?i.jsx(b("FocusRegion.react").FocusRegion,{autoFocus:!1,children:b("bs_caml_option").valFromOption(f)}):null;f=b("MWUIJewelMessageRequestsThread.bs").useHook(k);k=b("MWUIJewelSpamMessagesThread.bs").useHook(l);if(u===0)if(d&&r===!1)return i.jsxs("div",{children:[i.jsx(b("CometHeroHoldTrigger.react"),{description:"Jewel Query",hold:!0}),i.jsx(b("CometSettingsListDropdownLoadingState.react").InnerGlimmer,{size:56})],className:(h||(h=b("stylex")))(j.noOverflow)});else{l=i.jsxs(i.Fragment,{children:[t,f,i.jsx("div",{children:i.jsx(b("TetraText.react"),{align:"center",type:"body2",children:g._("No messages found.")}),className:(h||(h=b("stylex")))(j.emptyInbox)})]});l={children:l,className:h(j.noOverflow)};return i.jsx("div",(l["data-testid"]="MWJewelThreadListContainer",l))}else{l=i.jsxs(i.Fragment,{children:[t,f,a.map(function(a){return i.jsx(b("MWThread_DEPRECATED.bs").make,{id:a,children:i.jsx(b("MWThreadListItem_DEPRECATED.bs").make,{messagingEntrypoint:b("bs_belt_Option").getWithDefault(m,b("MessengerWebEntryPoint").JEWEL),onClose:o,selected:b("bs_belt_Option").mapWithDefault(n,!1,function(c){return b("bs_caml_obj").caml_equal(c,a)}),size:56})},b("MWChatThreadId.bs").serializeFuture(a))}),k,i.jsxs(b("CometInfiniteScrollTrigger.react"),{hasMore:r===!1,isLoading:d,onLoadMore:function(a){q();return b("bs_curry")._1(e,!0)},children:[i.jsx(b("MWThreadListGlimmer_DEPRECATED.bs").make,{}),i.jsx(b("MWThreadListGlimmer_DEPRECATED.bs").make,{})]})]});t={children:l};return i.jsx("div",(t["data-testid"]="MWJewelThreadListContainer",t))}}c=a;f.styles=j;f.make=c}),null);
__d("MWThreadList_DEPRECATED.re",["MWThreadList_DEPRECATED.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MWThreadList_DEPRECATED.bs").make;f.make=a}),null);
__d("MWMSJewelThreadList.react",["Actor","MessengerState.re","MWThreadList_DEPRECATED.re","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.folder,d=babelHelpers.objectWithoutPropertiesLoose(a,["folder"]);a=b("Actor").useActor();a=a[0];var e=g.useState(!0),f=e[0],h=e[1];return g.jsx(b("MessengerState.re").jsComponent,{fbid:a,children:function(a){return g.jsx(b("MWThreadList_DEPRECATED.re").make,babelHelpers["extends"]({},d,{folder:c,isLoading:f,setIsLoading:h}))}})}}),null);
__d("MWJewelDropdownHeaderSeeAllButton.react",["ix","fbt","CometTooltip.react","React","TetraCircleButton.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=h._("See All in Messenger");return i.jsx(b("CometTooltip.react"),{align:"end",tooltip:c,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("580260"),20),label:c,linkProps:{url:a.url},onPress:a.onClose,size:32,type:"deemphasized"})})}}),null);
__d("MWJewelDropdownHeader.react",["ix","fbt","CometEntryPointPopoverTrigger.react","CometHomeChatSettings.entrypoint","CometProgressRingIndeterminate.react","CometTooltip.react","CometTopNavListDropdown.react","MeetupExperiments","MWChatOpenNewTab.re","MWJewelDropdownHeaderSeeAllButton.react","React","TetraCircleButton.react","XCometMessengerControllerRouteBuilder","fbicon","stylex","useMWChatNewVideoChat","useMWChatTabContainerNewPreload","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function j(a){a=a.onOpenMessageRequests;var c=h._("Options");return i.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{onOpenMessageRequests:(a=a)!=null?a:void 0},popoverEntryPoint:b("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,d,e,f,h,j){return i.jsx(b("CometTooltip.react"),{align:"end",tooltip:c,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("484387"),20),label:c,onHoverIn:f,onHoverOut:h,onPress:d,onPressIn:j,ref:a,size:32,type:"deemphasized"})})}})}function a(a){var c=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),d=b("MWChatOpenNewTab.re").useHook("jewel_new_message"),e=b("useMWChatNewVideoChat")(a.onClose),f=e[0];e=e[1];var k=b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),l=function(){c&&(d(),a.onClose())},m=b("useMWChatTabContainerNewPreload")(),n=m[0];m=m[1];var o=h._("New message"),p=h._("Create new room");return i.jsx(b("CometTopNavListDropdown.react").Title,{actions:[i.jsx(b("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,url:a.inboxUrl}),b("MeetupExperiments").supportLinkCreation()?i.jsx(b("CometTooltip.react"),{align:"end",tooltip:p,children:e?i.jsx("div",{className:"k7cz35w2 j83agx80 bp9cbjyn",children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}):i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("1388374"),20),label:p,onPress:f,size:32,type:"deemphasized"})}):null,i.jsx(b("CometTooltip.react"),{align:"end",tooltip:o,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("507170"),16),label:o,linkProps:{preventLocalNavigation:c,url:k},onHoverIn:n,onHoverOut:m,onPress:l,size:32,type:"deemphasized"})}),i.jsx(j,{onOpenMessageRequests:a.onOpenMessageRequests})].filter(Boolean),onReturn:a.onReturn,title:a.title})}}),null);
__d("MWJewelMessageRequestsDropdownHeader.react",["CometTopNavListDropdown.react","MWJewelDropdownHeaderSeeAllButton.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx(b("CometTopNavListDropdown.react").Title,{actions:[g.jsx(b("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,url:a.url})],onReturn:a.onReturn,title:a.title})}}),null);
__d("MWJewelMessengerLink.react",["fbt","CometLink.react","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClick;a=a.url;return h.jsx("div",{className:"pzdrnzhu ihqw7lf3 jyxxhhb5",children:h.jsx(b("TetraText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:h.jsx(b("CometLink.react"),{href:a,onClick:c,children:g._("See All in Messenger")})})})}}),null);
__d("MWJewelMessageRequestsDropdown.react",["fbt","CometScrollView.react","CometTopNavListDropdown.react","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","React","TetraText.react","XCometMessengerControllerRouteBuilder","requireCond","stylex","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClose,d=a.onOpenSpamMessages;a=a.onReturn;var e=b("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/requests/",{});return h.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[h.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(b("MWJewelMessageRequestsDropdownHeader.react"),{onClose:c,onReturn:a,title:g._("Requests"),url:e}),h.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad b3i9ofy5",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:g._("Open a request to get info about who's messaging you. They won't know you've seen it until you reply.")})}),h.jsx(b("cr:1525945"),{folder:"pending",onClose:c,onOpenSpamMessages:d})]}),h.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:e})]})}}),null);
__d("MWJewelSpamMessagesDropdown.react",["fbt","CometScrollView.react","CometTopNavListDropdown.react","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","React","TetraText.react","XCometMessengerControllerRouteBuilder","requireCond","stylex","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClose;a=a.onReturn;var d=b("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/filtered/",{});return h.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[h.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(b("MWJewelMessageRequestsDropdownHeader.react"),{onClose:c,onReturn:a,title:g._("Spam"),url:d}),h.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad b3i9ofy5",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:g._("Open a request to get info about who's messaging you. They won't know you've seen it until you reply.")})}),h.jsx(b("cr:1525945"),{folder:"other",onClose:c})]}),h.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:d})]})}}),null);
__d("MWJewelSearchEmptyState.react",["fbt","React","TetraText.react","stylex","useCometSearchTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=b("useCometSearchTypeaheadEmptyState")();return c?h.jsxs("div",{className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya",children:[h.jsx(b("TetraText.react"),{align:"center",type:"body2",children:g._("Nothing Found")}),h.jsx("br",{}),h.jsx(b("TetraText.react"),{align:"center",color:"tertiary",type:"body3",children:g._("We couldn't find any matches for \"{query}.\" Try checking for typos or using complete words.",[g._param("query",a.queryString)])})]}):null}}),null);
__d("MWJewelSearchTypeaheadViewStrategy.react",["CometScrollView.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","React","requireCond","cr:1691755"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.entries;a.extraViewProps;var d=a.highlightedEntry;a.onAbandonTypeahead_DO_NOT_USE;var e=babelHelpers.objectWithoutPropertiesLoose(a,["entries","extraViewProps","highlightedEntry","onAbandonTypeahead_DO_NOT_USE"]);return c.length===0?g.jsx(b("MWJewelSearchEmptyState.react"),{queryString:e.queryString}):g.jsx(b("cr:1691755"),{entries:c,highlightedEntry:d,children:function(a,c){return g.createElement(b("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},e,{entry:a,isActive:c,key:a.getKey()}))}})}}),null);
__d("MWJewelSearchTypeahead.react",["fbt","CometRelay","CometSearchTypeaheadBaseBackButton.react","CometSearchTypeaheadBaseInputRoundedStrategy.react","CometSearchTypeaheadBaseLayoutContextualStrategy.react","CometTypeahead.react","MWJewelSearchTypeaheadViewStrategy.react","React","requireCond","stylex","cr:1691754"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i={searchInput:{marginTop:"aov4n071",marginEnd:"cxmmr5t8",marginBottom:"bi6gxh9e",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a"},searchView:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"mvk8q8v6",display:"j83agx80",minHeight:"mw5ich9q"}};function a(a){var c=a.onBlur,d=a.onChange,e=a.onFocus,f=a.onPressEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["onBlur","onChange","onFocus","onPressEntry"]);var j=h.useState(!1),k=j[0],l=j[1],m=b("CometRelay").useRelayEnvironment();j=h.useMemo(function(){return new(b("cr:1691754"))({limit:20,relayEnvironment:m})},[m]);var n=h.useCallback(function(){l(!1),d("")},[d]),o=h.useCallback(function(){l(!0)},[]);return h.jsx(b("CometTypeahead.react"),{dataSource:j,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputStartContent:k?h.jsx(b("CometSearchTypeaheadBaseBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:b("CometSearchTypeaheadBaseInputRoundedStrategy.react"),layoutStrategyRenderer:b("CometSearchTypeaheadBaseLayoutContextualStrategy.react"),onBlur:c,onChange:d,onClose:n,onFocus:e,onOpen:o,onPressEntry:f,placeholder:g._("Search Messenger"),queryString:a.queryString,viewStrategyRenderer:b("MWJewelSearchTypeaheadViewStrategy.react"),xstyles:{inputXStyle:i.searchInput,viewXStyle:i.searchView}})}}),null);
__d("useMWJewelThreadListSearchTypeahead.react",["MWJewelSearchTypeahead.react","React","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,c,d,e){var f=b("useMWChatOpenTabForGroup")("jewel_search"),h=f[0];f[1];var i=b("useMWChatOpenTabForPage")("jewel_search");f=b("useMWChatOpenTabForUser")("jewel_search");var j=f[0];f[1];f=g.useCallback(function(a){a=a.getRawData();var b=a.id;a=a.resultType;switch(a){case"group":h(b);break;case"user":j(b);break;case"page":i(b);break}e()},[e,h,i,j]);return g.jsx(b("MWJewelSearchTypeahead.react"),{onBlur:function(){return a(!1)},onChange:c,onFocus:function(){return a(!0)},onPressEntry:f,queryString:d})}}),null);
__d("MWJewelDropdown.react",["fbt","BaseMultiStepContainer.react","CometScrollView.react","CometTopNavListDropdown.react","MWJewelDropdownHeader.react","MWJewelMessageRequestsDropdown.react","MWJewelMessengerLink.react","MWJewelSpamMessagesDropdown.react","MWUIJewelPreloadThreadFolder.re","React","XCometMessengerControllerRouteBuilder","requireCond","stylex","useMWJewelThreadListSearchTypeahead.react","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){var c=a.onClose;a=i.useState(!1);var d=a[0];a=a[1];var e=i.useState(""),f=e[0];e=e[1];var j=b("XCometMessengerControllerRouteBuilder").buildURL({}),k=b("useMWJewelThreadListSearchTypeahead.react")(a,e,f,c),l=b("MWUIJewelPreloadThreadFolder.re").useHook();a=i.jsx("div",{className:(h||(h=b("stylex")))([b("CometTopNavListDropdown.react").styles.cardWidth]),children:i.jsx(b("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){var e=function(){return a(function(a){a=a.onReturn;return i.jsx(b("MWJewelSpamMessagesDropdown.react"),{onClose:c,onReturn:a})})},h=function(){l("other"),a(function(a){a=a.onReturn;return i.jsx(b("MWJewelMessageRequestsDropdown.react"),{onClose:c,onOpenSpamMessages:e,onReturn:a})})};return i.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[i.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!d&&f==="",children:[i.jsx(b("MWJewelDropdownHeader.react"),{inboxUrl:j,onClose:c,onOpenMessageRequests:h,title:g._("Messenger")}),i.jsx(b("cr:1525945"),{folder:"inbox",onClose:c,onOpenMessageRequests:h,searchTypeahead:k})]}),i.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:j})]})}})});return i.jsx(b("CometTopNavListDropdown.react"),{label:g._("Messenger"),name:"MWJewelDropdown",children:a})}}),null);
__d("MWJewelSearchTypeaheadViewList.react",["fbt","CometScrollView.react","React","TetraText.react","orEmptyArray","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j={scroll:{maxHeight:"nt8syekh"},section:{paddingTop:"jb3vyjys",paddingEnd:"dflh9lhu",paddingBottom:"qt6c0cv9",paddingStart:"scb9dxdr"},title:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}};function k(a){var c=a.activeEntryKey,d=a.children,e=a.entries;a=a.title;return e!=null&&e.length>0?i.jsxs("div",{className:(h||(h=b("stylex")))(j.section),children:[i.jsx("div",{className:h(j.title),children:i.jsx(b("TetraText.react"),{type:"entityHeaderMeta1",children:a})}),e.map(function(a,b){var e=c===a.getKey();return d(a,e,b)})]}):null}function a(a){var c=a.children,d=a.entries,e=a.highlightedEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","entries","highlightedEntry"]);a=e!=null?e.getKey():null;e=d.reduce(function(a,b){var c=b.getRawData();c=c.resultType;a[c]!=null?a[c].push(b):a[c]=[b];return a},{});d=b("orEmptyArray")(e.user);return i.jsx(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:j.scroll,children:i.jsxs("ul",{"data-testid":void 0,role:"listbox",children:[i.jsx(k,{activeEntryKey:a,children:c,entries:d.filter(function(a){return a.getRawData().isContact}),title:g._("Contacts")}),i.jsx(k,{activeEntryKey:a,children:c,entries:e.group,title:g._("Group Conversations")}),i.jsx(k,{activeEntryKey:a,children:c,entries:e.page,title:g._("Businesses")}),i.jsx(k,{activeEntryKey:a,children:c,entries:d.filter(function(a){return!a.getRawData().isContact}),title:g._("More People")})]})})}}),null);
__d("MessengerMuteUtils.re",["bs_curry","MessengerMuteUtils.bs"],(function(a,b,c,d,e,f){a=b("MessengerMuteUtils.bs").mutedUntilLabel;f.mutedUntilLabel=a;c=function(a,c){a=b("bs_curry")._2(b("MessengerMuteUtils.bs").muteActionLabel,a,c);return a};f.muteActionLabel=c}),null);
__d("MWThreadListHoverButtonDropdownMenu_DEPRECATED.react",["ix","fbt","CometLazyDialogTrigger.react","CometMenu.react","CometMenuItem.react","JSResource","MessengerMuteUtils.re","MWChatThreadId.re","MWChatUpdateMuteSettingMutation","MWThread_DEPRECATED.re","MWUIMarkThreadAsRead.re","MWUIMarkThreadAsUnread.re","MWUIThreadProfileLink.re","React","RTWebJoinOngoingCallMenuItem.react","XCometMessengerControllerRouteBuilder","fbicon","gkx","requireCond","cr:1621796","cr:1617152"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=b("JSResource")("MWChatMuteConversationDialogForJSResource.react").__setRef("MWThreadListHoverButtonDropdownMenu_DEPRECATED.react");function a(a){var c=a.callData,d=a.fbid,e=a.isUnread,f=a.mutedUntil;a=a.onCloseJewel;var k=b("MWThread_DEPRECATED.re").useIdExn();k=b("MWChatThreadId.re").isPage(k);var l=b("MWUIMarkThreadAsRead.re").useHook(),m=b("MWUIMarkThreadAsUnread.re").useHook(),n=b("MWUIThreadProfileLink.re").useHook(),o=b("MessengerMuteUtils.re").muteActionLabel(k,f!==0);k=b("cr:1617152").useMakeRTCCall();var p=k[0];k=k[1];var q=b("cr:1621796").useHook();q=q==="RtcEnabled"&&k===void 0;return i.jsxs(b("CometMenu.react"),{withArrow:!0,children:[i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("477820"),20),onClick:function(){e?l():m()},primaryText:e?h._("Mark as Read"):h._("Mark as Unread")}),i.jsx(b("CometMenuItem.react"),{href:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:d}),icon:b("fbicon")._(g("505620"),20),onClick:a,primaryText:h._("Open in Messenger")}),typeof n==="string"?i.jsx(b("CometMenuItem.react"),{href:n,icon:b("fbicon")._(g("558623"),20),onClick:a,primaryText:h._("View Profile")}):null,f!==0?i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("652791"),20),onClick:function(){b("MWChatUpdateMuteSettingMutation").commit({mute_duration:0,thread_fbid:d})},primaryText:o,secondaryText:b("MessengerMuteUtils.re").mutedUntilLabel(f)}):i.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{onUpdateMute:function(a){b("MWChatUpdateMuteSettingMutation").commit({mute_duration:a,thread_fbid:d})},title:o},dialogResource:j,children:function(a,c){return i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("532356"),20),onClick:a,primaryText:o,ref:c})}}),b("gkx")("1611062")&&q?i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("558164"),20),onClick:function(){return p(!1,d,"comet_chat_tab_call_option")},primaryText:h._("Audio Call")}):null,b("gkx")("1611062")&&q?i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("493176"),20),onClick:function(){return p(!0,d,"comet_chat_tab_call_option")},primaryText:h._("Video Chat")}):null,i.jsx(b("RTWebJoinOngoingCallMenuItem.react"),{callData:c,fbid:d})]})}}),null);
__d("RTWebCallWindowOpener",["requireCond","cr:1099565"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1099565")}),null);
__d("ZenonCallInviteModelTypes",[],(function(a,b,c,d,e,f){"use strict";a={missed:"missed",ringing:"ringing",unsupported_browser:"unsupported_browser"};f.CallInviteModelType=a}),null);
__d("ZenonCallInviteModel",["BaseEventEmitter","FBLogger","ZenonCallInviteModelTypes","gkx"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ZenonCallInviteModel3=function(a){b("FBLogger")("rtc_www").info("Received cancel for: ",a.ringID);if(d.__currentRequest&&d.__currentRequest.model&&d.__currentRequest.model.ringID===a.ringID)switch(a.reason){case"hangup":a=((a=d.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.type)!==b("ZenonCallInviteModelTypes").CallInviteModelType.unsupported_browser;d.__currentRequest.model=babelHelpers["extends"]({},d.__currentRequest.model,{type:"missed"});a&&d.emit("callInvite",d.__currentRequest.model);break;default:d.dismiss();break}};d.$ZenonCallInviteModel2=function(a){var c;b("FBLogger")("rtc_www").info("Receiving ring: ",a.ringID);if(((c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.type)==="ringing"){if(((c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.ringID)!==a.ringID&&b("gkx")("1434282")){a.onDecline("InAnotherCall");b("FBLogger")("rtc_www").info("Sending InAnotherCall to ring: ",a.ringID,"Current ring: ",(c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.ringID)}}else d.__currentRequest={model:{context:a.context,controllerParams:a.controllerParams,inviterID:a.inviterID,participants:a.otherParticipants,requestingVideo:a.requestingVideo,ringID:a.ringID,type:a.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:a},d.emit("callInvite",d.__currentRequest.model),a.isClientPermissableRing||a.onDecline("VersionUnsupported")};d.__eventSource=c;d.__currentRequest=null;return d}var d=c.prototype;d.getCurrentInvite=function(){var a;return(a=(a=this.__currentRequest)==null?void 0:a.model)!=null?a:null};d.startListening=function(a){a=a.callsBlocked;this.__currentRequest&&this.dismiss();this.stopListening();a?this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel1):(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel2),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel3))};d.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null};d.dismiss=function(){var a;b("FBLogger")("rtc_www").info("Dismissing ring: ",(a=this.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.ringID);this.__currentRequest=null;this.emit("callInvite",Object.freeze(null))};d.accept=function(a,c){var d=this.__currentRequest;if(d){var e;b("FBLogger")("rtc_www").info("Accepting ring: ",(e=d.model)==null?void 0:e.ringID);((e=d.model)==null?void 0:e.type)==="ringing"&&d.ringPayload.onAccept(a,c);this.dismiss()}};d.decline=function(a,c){a===void 0&&(a="IgnoreCall");var d=this.__currentRequest;if(d){var e;b("FBLogger")("rtc_www").info("Declining ring: ",(e=d.model)==null?void 0:e.ringID);d.ringPayload.onDecline(a,c);this.dismiss();return}};d.$ZenonCallInviteModel1=function(a){b("FBLogger")("rtc_www").info("Blocking ring: ",a.ringID),a.onDecline("IgnoreCall","CallsBlocked")};return c}(b("BaseEventEmitter"));e.exports=a}),null);
__d("delegateZenonCallInviteModel",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a.getCurrentInvite=b.getCurrentInvite.bind(b),a.startListening=b.startListening.bind(b),a.stopListening=b.stopListening.bind(b),a.dismiss=b.dismiss.bind(b),a.accept=b.accept.bind(b),a.decline=b.decline.bind(b),b.addListener("callInvite",function(b){a.emit("callInvite",b)})}}),null);
__d("ZenonCallWindowController",["Promise","FBLogger","ZenonCallWindowErrors"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){var c=b.callWindowInitializerResource,d=b.callWindowOpener;b=b.uriBuilderResource;this.$2=null;this.$3=!1;this.$5=null;this.$1=a;this.$7=b;this.$4=c;this.$6=d}var c=a.prototype;c.initCall=function(a){var c=this;if(this.$3)throw new(b("ZenonCallWindowErrors").OpeningAnotherCallError)();try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"&&this.$2.inCallWith===a.joinContext.thread.id){this.$2.focus();return[this.$2,b("Promise").resolve({alohaEscalatedMW:!1})]}}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Failed to access inCallWith on call window")}var d=this.$6.openWindow(a);try{this.$2&&(this.$2.closed||this.$2.close(),this.$2=null)}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Failed to access close on call window")}this.$2=d;this.$3=!0;return[d,b("Promise").all([this.$7.load(),this.$4.load()]).then(function(b){var d=b[0];b=b[1];c.$5===null&&(c.$5=new b(c.$1,new d(c.$1)));return c.$5.initCall(c.$2,a)})["finally"](function(){c.$3=!1})]};return a}();e.exports=a}),null);
__d("ZenonCallWindowOpener_Popup",["ZenonUserActionLogger","qex"],(function(a,b,c,d,e,f){"use strict";var g=1280,h={LargeForGroup:{height:772,width:1100},LargeForP2P:{height:720,width:1280},Small:{height:540,width:960}},i=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no"];a=function(){function a(){}var c=a.prototype;c.openWindow=function(a){a=this.$1(a.joinContext);var c=this.$2(a),d=c.left;c=c.top;b("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_Popup: left="+d+",top="+c+",width="+a.width+",height="+a.height});return window.open("","",[].concat(i,["height="+a.height,"width="+a.width,"left="+d,"top="+c]).join(","))};c.$1=function(a){if(screen&&screen.width>g)if(a.type==="link"||a.thread.type===2){a=b("qex")._("1704108");return{height:a!=null&&a>0?a:h.LargeForGroup.height,width:h.LargeForGroup.width}}else{a=b("qex")._("1704109");var c=b("qex")._("1704110");return{height:a!=null&&a>0?a:h.LargeForP2P.height,width:c!=null&&c>0?c:h.LargeForP2P.width}}else{a=b("qex")._("1704111");c=b("qex")._("1704112");return{height:a!=null&&a>0?a:h.Small.height,width:c!=null&&c>0?c:h.Small.width}}};c.$2=function(a){var b=a.height;a=a.width;return{left:Math.floor(window.innerWidth/2-a/2+((a=window.screenLeft)!=null?a:window.screenX)),top:Math.floor(window.innerHeight/2-b/2+((a=window.screenTop)!=null?a:window.screenY))}};return a}();e.exports=a}),null);
__d("FBRTCExperiment",["FBRTCExperimentsConfig","QE2Logger"],(function(a,b,c,d,e,f){"use strict";a=function(){a.gen=function(c){var d={params:{},auto_exposure:!1,in_experiment:!1};d=b("FBRTCExperimentsConfig")[c]||d;c=new a(c,d);return c};a.getIncomingCallExperiments=function(){return a.gen("rtweb_incoming_call_experiments")};a.getMediaQualityExperiments=function(){return a.gen("rtc_www_media_quality_h2_2018")};a.getUpsellMessengerDesktopUnsupportedBrowser=function(){return a.gen("upsell_messenger_desktop_unsupported_browser_universe")};function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.$3=function(){this.$2.auto_exposure&&this.logExposure()};c.logExposure=function(){this.$2.in_experiment&&b("QE2Logger").logExposureForUser(this.$1)};c.getParam=function(a,b){if(this.$2.in_experiment){this.$3();a=this.$2.params[a];if(a!==void 0)return String(a)}return b};c.getInt=function(a,b){if(this.$2.in_experiment){this.$3();if(this.$2.params[a]!==void 0)return parseInt(this.$2.params[a],10)}return b};c.getBool=function(a,b,c){c===void 0&&(c=!0);var d=this.$2.params;if(this.$2.in_experiment){c&&this.$3();if(d[a]!==void 0)return d[a]==="1"||d[a]===1||d[a]==="true"||d[a]===!0}return b};return a}();e.exports=a}),null);
__d("FBRTCIceStatsParser",[],(function(a,b,c,d,e,f){var g=null;a=function(){function a(){}a.getInstance=function(){g||(g=new a());return g};var b=a.prototype;b.extractIceInfo=function(a){var b=[];a=a.split("\r\n");for(var c=0;c<a.length;c++){var d=a[c];this.$1(d)&&b.push({gen:this.$2(d),type:this.$3(d)})}return b};b.$1=function(a){return a.indexOf("candidate:")>-1};b.$2=function(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b};b.$3=function(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"};return a}();e.exports=a}),null);
__d("FBRTCLocalUploadLogLevel",["CurrentUser","FBRTCConstants"],(function(a,b,c,d,e,f){"use strict";f.getUploadLogLevel=a;f.getLocalUploadLogLevel=g;function a(a){return Math.max(g(),a)}function g(){return b("CurrentUser").isEmployee()||b("CurrentUser").isTestUser()?b("FBRTCConstants").UploadLogLevel.LL_DEBUG:b("FBRTCConstants").UploadLogLevel.LL_NIL}}),null);
__d("FBRTCMediaMetricTracker",["performanceNow"],(function(a,b,c,d,e,f){"use strict";var g,h={count:0,current:-1,first:-1,min:-1,max:-1,mean:-1,median:-1,startedTime:-1,total:-1,updatedTime:-1};a=function(){function a(){this.$2={},this.$3={},this.$4={},this.$1={},this.$5=null}var c=a.prototype;c.updateVideoSender=function(a,b,c){if(b==="video"&&this.$5!==null&&this.$5!==c&&this.$4[a]){b=a+((b=this.$5)!=null?b:"");this.$4[b]=babelHelpers["extends"]({},this.$4[a]);delete this.$4[a]}this.$5=c};c.getVideoStreamReportKeys=function(){return Object.keys(this.$4)};c.getJitterStreamReportKey=function(){return Object.keys(this.$2)};c.getAudioStreamReportKeys=function(){return Object.keys(this.$3)};c.addJitterBufferDelay=function(a,b){b!==null&&b!==void 0&&(this.$2[a]||(this.$2[a]=[]),this.$2[a].push(b))};c.setHistResScale=function(a,b,c){this.$1[a]||(this.$1[a]={contentType:b,histogram:[]}),this.$1[a]={contentType:b,histogram:c}};c.getHistResScale=function(a){return this.$1[a]?{contentType:this.$1[a].contentType,histogram:this.$1[a].histogram}:null};c.setVideoContentType=function(a,b){this.$4[a]||(this.$4[a]={}),this.$4[a].contentType=b};c.getVideoContentType=function(a){return this.$4[a].contentType};c.setVideoMetric=function(a,b,c){c!==null&&c!==void 0&&(this.$4[a]||(this.$4[a]={}),this.$4[a][b]=this.$6(this.$4[a][b],c))};c.$6=function(a,c){if(a!==null&&a!==void 0){a.current=c;a.updatedTime=(g||(g=b("performanceNow")))();a.total+=c;a.count+=1;a.min=Math.min(a.min,c);a.max=Math.max(a.max,c);a.mean=a.total/a.count;return a}else return{min:c,max:c,total:c,count:1,mean:c,first:c,startedTime:(g||(g=b("performanceNow")))(),current:c,updatedTime:g()}};c.getVideoStreamDuration=function(a,b){return this.$4[a]!=null&&this.$4[a][b]!=null?this.$4[a][b].count:0};c.getAudioStreamDuration=function(a,b){return this.$3[a]!=null&&this.$3[a][b]!=null?this.$3[a][b].count:0};c.getVideoMetric=function(a,b){return this.$4[a]?this.$4[a][b]:null};c.addMetricStat=function(a,b,c){c!==null&&c!==void 0&&(this.$3[a]||(this.$3[a]={}),this.$3[a][b]=this.$6(this.$3[a][b],c))};c.getMetricStats=function(a,b){return!this.$3[a]?null:this.$3[a][b]};c.getJitterBufferStats=function(a){if(!this.$2[a])return h;var b=this.$2[a].length;if(b===0)return h;this.$2[a].sort(function(a,b){return a-b});var c=this.$2[a].reduce(function(a,b){return a+b});if(b%2===0){var d=Math.floor((b-1)/2),e=Math.ceil((b-1)/2);d=(this.$2[a][d]+this.$2[a][e])/2}else d=this.$2[a][(b-1)/2];return{max:this.$2[a][b-1],min:this.$2[a][0],mean:c/b,median:d,total:c,count:b,first:-1,startedTime:-1,current:-1,updatedTime:-1}};c.toJsonString=function(){return JSON.stringify({stats:this.$3,jitterBufferDelays:this.$2,videoMetric:this.$4,histResScale:this.$1})};a.getPercentMediaKey=function(a,b,c){return a.concat("_",b,"_p",String(c))};a.getAvgMediaKey=function(a,b){return a.concat("_",b,"_avg")};a.fromJsonString=function(b){var c=new a();try{b=JSON.parse(b),b=b}catch(a){return c}b.stats&&(c.$3=b.stats);b.jitterBufferDelays&&(c.$2=b.jitterBufferDelays);b.videoMetric&&(c.$4=b.videoMetric);b.histResScale&&(c.$1=b.histResScale);return c};return a}();e.exports=a}),null);
__d("FBRTCMediaMetricsConst",[],(function(a,b,c,d,e,f){"use strict";a="jitter";f.JITTER=a;b="accelerate_rate";f.ACCELERATE_RATE=b;c="decoding_cng";f.DECODING_CNG=c;d="decoding_normal";f.DECODING_NORMAL=d;e="decoding_plc";f.DECODING_PLC=e;a="decoding_plc_cng";f.DECODING_PLC_CNG=a;b="decoding_neteq_call";f.DECODING_NETEQ_CALL=b;c="discard_rate";f.DISCARD_RATE=c;d="expand_rate";f.EXPAND_RATE=d;e="preemptive_rate";f.PREEMPTIVE_RATE=e;a="audio_send_total_energy";f.AUDIO_SEND_TOTAL_ENERGY=a;b="audio_receive_total_energy";f.AUDIO_RECEIVE_TOTAL_ENERGY=b;c="audio_send_log_level";f.AUDIO_SEND_LOG_LEVEL=c;d="audio_receive_log_level";f.AUDIO_RECEIVE_LOG_LEVEL=d;e="audio_packets_received";f.AUDIO_PACKETS_RECEIVED=e;a="audio_fec_packets_received";f.AUDIO_FEC_PACKETS_RECEIVED=a;b="audio_fec_packets_discarded";f.AUDIO_FEC_PACKETS_DISCARDED=b;c="audio_packets_received_lost";f.AUDIO_PACKETS_RECEIVED_LOST=c;d="audio_packets_sent";f.AUDIO_PACKETS_SENT=d;e="audio_packets_sent_lost";f.AUDIO_PACKETS_SENT_LOST=e;a="video_bytes_received";f.VIDEO_BYTES_RECEIVED=a;b="video_bytes_sent";f.VIDEO_BYTES_SENT=b;c="inbound_qp";f.INBOUND_QP=c;d="outbound_qp";f.OUTBOUND_QP=d;e="frames_encoded";f.FRAMES_ENCODED=e;a="frames_decoded";f.FRAMES_DECODED=a;b="frames_received";f.FRAMES_RECEIVED=b;c="frames_sent";f.FRAMES_SENT=c;d="videobwe_send_bandwidth";f.VIDEOBWE_SEND_BANDWIDTH=d;e="videobwe_transmit_bitrate";f.VIDEOBWE_TRANSMIT_BITRATE=e;a="videobwe_retransmit_bitrate";f.VIDEOBWE_RETRANSMIT_BITRATE=a;b="audio_bytes_sent";f.AUDIO_BYTES_SENT=b;c="audio_bytes_received";f.AUDIO_BYTES_RECEIVED=c;d="video_pkts_sent";f.VIDEO_PKTS_SENT=d;e="video_pkts_send_lost";f.VIDEO_PKTS_SEND_LOST=e;a="video_pkts_received";f.VIDEO_PKTS_RECEIVED=a;b="video_fec_pkts_received";f.VIDEO_FEC_PKTS_RECEIVED=b;c="video_fec_pkts_discarded";f.VIDEO_FEC_PKTS_DISCARDED=c;d="video_pkts_receive_lost";f.VIDEO_PKTS_RECV_LOST=d;e="audio_rtt_received";f.AUDIO_RTT_RECEIVED=e;a="audio_rtt_sent";f.AUDIO_RTT_SENT=a;b="audio_dev_rec_stalls";f.AUDIO_DEV_REC_STALLS=b;c="audio_dev_total_stalls";f.AUDIO_DEV_TOTAL_STALLS=c;d="audio_dev_is_stalled";f.AUDIO_DEV_IS_STALLED=d;e="audio_dev_stall_duration";f.AUDIO_DEV_STALL_DURATION=e;a="video_freeze_cnt";f.VIDEO_FREEZE_COUNT=a;b="video_freeze_duration";f.VIDEO_FREEZE_DURATION=b;c="video_pause_cnt";f.VIDEO_PAUSE_COUNT=c;d="video_pause_duration";f.VIDEO_PAUSE_DURATION=d;e="video_capture_width";f.VIDEO_CAPTURE_WIDTH=e;a="video_capture_height";f.VIDEO_CAPTURE_HEIGHT=a;b="video_sum_capture_pixel";f.VIDEO_SUM_CAPTURE_PIXEL=b;c="video_capture_frame_count";f.VIDEO_CAPTURE_FRAME_COUNT=c;d="video_decoded_width";f.VIDEO_DECODED_WIDTH=d;e="video_decoded_height";f.VIDEO_DECODED_HEIGHT=e;a="video_encoded_width";f.VIDEO_ENCODED_WIDTH=a;b="video_encoded_height";f.VIDEO_ENCODED_HEIGHT=b;c="audio_total_packet_send_delay";f.AUDIO_TOTAL_PACKET_SEND_DELAY=c;d="video_total_packet_send_delay";f.VIDEO_TOTAL_PACKET_SEND_DELAY=d;e="audio_total_encode_time";f.AUDIO_TOTAL_ENCODE_TIME=e;a="video_total_encode_time";f.VIDEO_TOTAL_ENCODE_TIME=a;b="audio_total_decode_time";f.AUDIO_TOTAL_DECODE_TIME=b;c="video_total_decode_time";f.VIDEO_TOTAL_DECODE_TIME=c;d="audio_jitter_buffer_delay";f.AUDIO_JITTER_BUFFER_DELAY=d;e="video_jitter_buffer_delay";f.VIDEO_JITTER_BUFFER_DELAY=e;a="audio_jitter_buffer_emitted_count";f.AUDIO_JITTER_BUFFER_EMITTED_COUNT=a;b="video_jitter_buffer_emitted_count";f.VIDEO_JITTER_BUFFER_EMITTED_COUNT=b;c="audio_e2e_latency";f.AUDIO_E2E_LATENCY=c;d="video_e2e_latency";f.VIDEO_E2E_LATENCY=d;e="av_sync";f.AV_SYNC=e;a="av_sync_abs";f.AV_SYNC_ABS=a;b="av_sync_count";f.AV_SYNC_COUNT=b;c="av_sync_oob";f.AV_SYNC_OOB=c;d="video_sum_decoded_pixel";f.VIDEO_SUM_DECODED_PIXEL=d;e="video_sum_encoded_pixel";f.VIDEO_SUM_ENCODED_PIXEL=e;a="video_debugFPS";f.VIDEO_DEBUGFPS=a;b="video_debuglastUpdate";f.VIDEO_DEBUGLASTUPDATE=b;c="video_debugtracktimestamp";f.VIDEO_DEBUGTRACKTIMESTAMP=c;d="audio_neteq_wait_time";f.AUDIO_NETEQ_WAIT_TIME=d;e="audio_packet_loss_rate";f.AUDIO_PACKET_LOSS_RATE=e;a="audio_plc_cng_rate";f.AUDIO_PLC_CNG_RATE=a;b="audio_plc_rate";f.AUDIO_PLC_RATE=b;c="global_audio_bitrate";f.GLOBAL_AUDIO_BITRATE=c;d="global_battery_usage";f.GLOBAL_BATTERY_USAGE=d;e="global_cpu_usage";f.GLOBAL_CPU_USAGE=e;a="global_video_bitrate";f.GLOBAL_VIDEO_BITRATE=a;b="video_av_sync_abs";f.VIDEO_AV_SYNC_ABS=b;c="video_av_sync_oob";f.VIDEO_AV_SYNC_OOB=c;d="video_frame_rate";f.VIDEO_FRAME_RATE=d;e="video_freeze_count_per_min";f.VIDEO_FREEZE_COUNT_PER_MIN=e;a="video_freeze_duration_per_min";f.VIDEO_FREEZE_DURATION_PER_MIN=a;b="video_neteq_wait_time";f.VIDEO_NETEQ_WAIT_TIME=b;c="video_packet_loss_rate";f.VIDEO_PACKET_LOSS_RATE=c;d="video_render_scale_ratio";f.VIDEO_RENDER_SCALE_RATIO=d;e="video_cropping_ratio";f.VIDEO_CROPPING_RATIO=e;a="video_rtt_received";f.VIDEO_RTT_RECEIVED=a;b="video_rtt_sent";f.VIDEO_RTT_SENT=b;c="simulcast_layer_changes";f.SIMULCAST_LAYER_CHANGES=c;d="video_quality_sent";f.VIDEO_QUALITY_SENT=d;e="video_encoded_frame_rate";f.VIDEO_ENCODED_FRAME_RATE=e;a="video_qp_sent";f.VIDEO_QP_SENT=a;b="video_decode_time";f.VIDEO_DECODE_TIME=b}),null);
__d("FBRTCCallSummary",["requireCond","ChannelClientID","ErrorMetadata","FBRTCConstants","FBRTCExperiment","cr:1440831","FBRTCIceStatsParser","FBRTCLocalUploadLogLevel","FBRTCLogger","FBRTCMediaMetricsConst","FBRTCMediaMetricTracker","SiteData","URI","UserAgentData","WebPerformanceDeviceInfo","gkx","performanceNow","uuid"],(function(a,b,c,d,e,f){var g,h,i=5*60*1e3,j=1e5,k=[5,50,95],l={CALL_STARTED:"started",SENT_OFFER:"s_o",RECV_OFFER:"r_o",SENT_OFFER_ACK:"s_oack",RECV_OFFER_ACK:"r_oack",SENT_RETRIED_OFFER:"s_o2",RECV_RETRIED_OFFER:"r_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",RECV_RETRIED_OFFER_ACK:"r_oack2",SENT_PRANSWER:"s_pr",RECV_PRANSWER:"r_pr",NETWORK_READY:"network_ready",SENT_ANSWER:"s_a",RECV_ANSWER:"r_a",SENT_ANSWER_ACK:"s_aack",RECV_ANSWER_ACK:"r_aack",SENT_RETRIED_ANSWER:"s_a2",RECV_RETRIED_ANSWER:"r_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",RECV_RETRIED_ANSWER_ACK:"r_aack2",SENT_OK:"s_ok",RECV_OK:"r_ok",CALL_CONNECTED:"connected",CALL_ENDED:"ended",SENT_JOIN_REQUEST:"s_jreq",RECV_JOIN_RESPONSE:"r_jresp",PROC_JOIN_RESPONSE:"p_jresp",RECV_RING_REQUEST:"r_rreq",SENT_RING_RESPONSE:"s_rresp"},m={FELLBACK_TO_AUDIO:"f_a",MEDIA_REQUESTED:"m_r",MEDIA_SUCCEEDED:"m_s",POPUP_OPENED:"opened",PRESSED_ANSWER:"p_a"},n={ESCALATION_IS_AVAILABLE:"esc_available",USER_INITIATED_REQUEST:"out_started",RECEIVED_INCOMING_REQUEST:"inc_started",REJECTED_INVALID_P2P_STATE:"rej_invalid_state",CONNECTING_TO_MULTIWAY:"u_connecting_mw",CONNECTED_TO_MULTIWAY:"u_connected_mw",PEER_CONNECTING_TO_MULTIWAY:"p_connecting_mw",PEER_CONNECTED_TO_MULTIWAY:"p_connected_mw",READY_TO_ESCALATE:"ready_esc",PEER_FAILED_TO_CONNECT_TO_MULTIWAY:"p_fail_conn",MULTIWAY_CALL_ENDED:"mw_call_ended",TIMED_OUT:"timed_out",PEER_ABORTED:"p_aborted",INTERNAL_ERROR:"internal_err"},o={ESCALATION_INITIATION_BUTTON_CLICKED:"esc_init_button",ESCALATION_APPROVED_BUTTON_CLICKED:"esc_appr_button",ESCALATION_DECLINED_BUTTON_CLICKED:"esc_decl_button",USERMEDIA_REQUEST:"media_req",USERMEDIA_SUCCESS:"media_success",USERMEDIA_FAILURE:"media_fail",SENT_ESC_REQUEST:"s_esc_req",RECV_ESC_REQUEST:"r_esc_req",SENT_ESC_REQUEST_ACK:"s_esc_req_ack",RECV_ESC_REQUEST_ACK:"s_esc_req_ack",SENT_ESC_RESPONSE:"s_esc_rep",RECV_ESC_ACCEPT:"r_esc_accept",RECV_ESC_DECLINE:"r_esc_decl",RECV_ESC_TIMEOUT:"r_esc_timeout"},p=[(a=b("FBRTCMediaMetricsConst")).ACCELERATE_RATE,a.DISCARD_RATE,a.EXPAND_RATE,a.PREEMPTIVE_RATE],q=[{key:a.AUDIO_NETEQ_WAIT_TIME,field:"nwt",scale:1},{key:a.AUDIO_PACKET_LOSS_RATE,field:"plr",scale:1e4},{key:a.AUDIO_PLC_CNG_RATE,field:"plccngr",scale:1e4},{key:a.AUDIO_PLC_RATE,field:"plcr",scale:1e4}],r=[{key:a.VIDEO_AV_SYNC_ABS,field:"avabs",scale:1},{key:a.VIDEO_FRAME_RATE,field:"fr",scale:1},{key:a.VIDEO_NETEQ_WAIT_TIME,field:"nwt",scale:1},{key:a.VIDEO_PACKET_LOSS_RATE,field:"plr",scale:1e4},{key:a.VIDEO_RENDER_SCALE_RATIO,field:"rsr",scale:100},{key:a.VIDEO_CROPPING_RATIO,field:"cr",scale:100}],s=[{key:a.VIDEO_FREEZE_COUNT_PER_MIN,field:"vfmin",scale:1},{key:a.VIDEO_FREEZE_DURATION_PER_MIN,field:"vfdur",scale:1},{key:a.VIDEO_AV_SYNC_OOB,field:"avoob",scale:1e4}],t=[{key:a.GLOBAL_CPU_USAGE,field:"proc",scale:100},{key:a.GLOBAL_BATTERY_USAGE,field:"bat",scale:1},{key:a.GLOBAL_AUDIO_BITRATE,field:"tadb",scale:1},{key:a.GLOBAL_VIDEO_BITRATE,field:"tvdb",scale:1}],u=[{key:a.AUDIO_RTT_SENT,field:"artt",scale:1}],v=[{key:a.VIDEO_RTT_SENT,field:"vrtt",scale:1},{key:a.VIDEO_QUALITY_SENT,field:"vqs",scale:1},{key:a.VIDEO_ENCODED_FRAME_RATE,field:"efr",scale:1},{key:a.VIDEO_QP_SENT,field:"qp",scale:1}],w="globalStatsTrackId",x="grid",y="pinned",z="thumbnail",A="pinnedAudioStatsTrackId",B="pinnedVideoStatsTrackId",C="outboundAudioStatsTrackId",D="outboundScreenStatsTrackId",E="outboundVideoStatsTrackId";function F(a){var c=new(g||(g=b("URI")))(window.location).getPath().includes("/videocall/");if(a==="MW_PEER_ID"&&!c){a=b("FBRTCExperiment").gen("rtweb_zenon_platform");c=a.getBool("use_zenon_platform",!1,!1);if(c)return"ZenonPlatform"}a=b("gkx")("1341692");c=b("gkx")("1680228");return!a&&!c?"ZenonScotch":"Old Codebase"}c=function(){"use strict";a.nullSummary=function(){return new a({peerID:"0",callID:"0",isCaller:!1,callTrigger:"NULL_SUMMARY"})};function a(c){var d;this.$41={};this.peerID=String(c.peerID);this.callID=String(c.callID);this.localCallID=(d=c.localCallID)!=null?d:b("uuid")();this.deviceID=b("ChannelClientID").getID();this.$2=c.isCaller;this.$1=c.version||a.CURRENT_SUMMARY_VERSION;this.$3=b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel();this.$15=new Date().valueOf();this.$43={};this.$4=c.callTrigger||null;this.$6={};this.$8={};this.$9={};this.$14={};this.$34=null;this.$35=null;this.$36=null;this.$17=0;this.$18=0;this.$33=!1;this.$10={};this.$11={};this.$12={};this.$13={};this.$39=null;this.$38=null;this.$37=null;this.$5=F(this.peerID);this.$20=(h||(h=b("performanceNow")))();this.$16=0;this.$7={};this.$19=this.$20;this.$21=0;this.$22={};this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_INFO,this.$53());this.$54();this.$55();this.$56();this.$57();this.$24=b("FBRTCIceStatsParser").getInstance();this.$49=new(b("FBRTCMediaMetricTracker"))();this.$23=b("FBRTCLogger").getInstance()}var c=a.prototype;c.toJsonString=function(){this.$18=new Date().valueOf();return JSON.stringify({version:this.$1,peerID:this.peerID,callID:this.callID,localCallID:this.localCallID,deviceID:this.deviceID,isCaller:this.$2,uploadLogLevel:this.$3,callType:this.$29,conferenceName:this.$26,joinWithSID:this.$27,activeConn:this.$25,escP2PCallID:this.$28,serverInfoData:this.$30,localVideoDuration:this.$31,remoteVideoDuration:this.$32,startTime:this.$15,trigger:this.$4,signalingTime:this.$6,escStateTimes:this.$8,applicationEventTime:this.$9,videoEscTimes:this.$14,endCallReason:this.$34,endCallSubreason:this.$35,isRemoteEnded:this.$36,lastUpdatedTime:this.$17,lastSerializedTime:this.$18,unsetOnRetrieve:this.$33,openCount:this.$21,extraInfo:this.$22,gen0IceSentCount:this.$10,gen0IceReceivedCount:this.$11,iceSentCount:this.$12,iceReceivedCount:this.$13,connectionType:this.$39,mediaMetricStats:this.$49.toJsonString(),newSignalingTime:this.$7,accumulatedCallTime:this.$58(),deviceCharged:this.$42,ehist:this.getEhist(),videoReceivedCodec:this.$44,videoSentCodec:this.$45,videoDevice:this.$46,audioDevice:this.$47,audioSentCodec:this.$48,relayIP:this.$40,clientVersion:this.$5,pcConnectionStates:this.$41,pcIsConnected:this.$37,endIsConnected:this.$38,maxTotalDecodeTime:this.$50,totalDecodeTime:this.$51,totalEncodeTime:this.$52})};a.fromJsonString=function(c){var d;try{c=JSON.parse(c)}catch(a){return null}if(c.version<a.OLDEST_SUPPORTED_SUMMARY_VERSION)return null;if(!Object.prototype.hasOwnProperty.call(c,"peerID")||!Object.prototype.hasOwnProperty.call(c,"callID")||!Object.prototype.hasOwnProperty.call(c,"isCaller")||!Object.prototype.hasOwnProperty.call(c,"startTime")||!Object.prototype.hasOwnProperty.call(c,"trigger")||!Object.prototype.hasOwnProperty.call(c,"signalingTime")||!Object.prototype.hasOwnProperty.call(c,"endCallReason")||!Object.prototype.hasOwnProperty.call(c,"isRemoteEnded")||!Object.prototype.hasOwnProperty.call(c,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(c,"lastSerializedTime"))return null;var e=new a({peerID:c.peerID,callID:c.callID,isCaller:c.isCaller,localCallID:c.localCallID});e.deviceID=c.deviceID;e.$1=c.version;e.$3=c.uploadLogLevel;e.$15=c.startTime;e.$4=c.trigger;e.$5=c.clientVersion;e.$6=c.signalingTime;e.$34=c.endCallReason;e.$35=c.endCallSubreason;e.$36=c.isRemoteEnded;e.$17=c.lastUpdatedTime;e.$18=c.lastSerializedTime;e.$27=c.joinWithSID;e.$38=(d=c.endIsConnected)!=null?d:null;e.$37=(d=c.pcIsConnected)!=null?d:null;c.callType&&(e.$29=c.callType);c.conferenceName&&(e.$26=c.conferenceName);c.escP2PCallID&&(e.$28=c.escP2PCallID);c.activeConn&&(e.$25=c.activeConn);c.serverInfoData&&(e.$30=c.serverInfoData);c.localVideoDuration&&(e.$31=c.localVideoDuration);c.remoteVideoDuration&&(e.$32=c.remoteVideoDuration);c.unsetOnRetrieve&&(e.$33=c.unsetOnRetrieve);c.openCount&&(e.$21=c.openCount);c.extraInfo&&(e.$22=c.extraInfo);c.gen0IceSentCount&&(e.$10=c.gen0IceSentCount);c.gen0IceReceivedCount&&(e.$11=c.gen0IceReceivedCount);c.iceSentCount&&(e.$12=c.iceSentCount);c.iceReceivedCount&&(e.$13=c.iceReceivedCount);c.newSignalingTime&&(e.$7=c.newSignalingTime);c.pcConnectionStates&&(e.$41=c.pcConnectionStates);c.accumulatedCallTime&&(e.$16=c.accumulatedCallTime);c.escStateTimes&&(e.$8=c.escStateTimes);c.applicationEventTime&&(e.$9=c.applicationEventTime);c.videoEscTimes&&(e.$14=c.videoEscTimes);c.mediaMetricStats&&(e.$49=b("FBRTCMediaMetricTracker").fromJsonString(c.mediaMetricStats));c.connectionType&&(e.$39=c.connectionType);c.deviceCharged&&(e.$42=c.deviceCharged);c.ehist!==null&&(e.$43=c.ehist);c.videoReceivedCodec!==null&&(e.$44=c.videoReceivedCodec);c.videoSentCodec!==null&&(e.$45=c.videoSentCodec);c.videoDevice!==null&&(e.$46=c.videoDevice);c.audioDevice!==null&&(e.$47=c.audioDevice);c.audioSentCodec!==null&&(e.$48=c.audioSentCodec);c.relayIP!==null&&c.relayIP!==void 0&&(e.$40=c.relayIP);c.maxTotalDecodeTime!==null&&c.maxTotalDecodeTime!==void 0&&(e.$50=c.maxTotalDecodeTime);c.totalDecodeTime!=null&&(e.$51=c.totalDecodeTime);c.totalEncodeTime!=null&&(e.$52=c.totalEncodeTime);return e};a.restoreOrInitialize=function(c,d,e,f,g,h){d=String(d);e=String(e);c=c.retrieveCallSummary(d,e);!c?(c=new a({peerID:d,callID:e,isCaller:f}),g?(c.onFullMessageReceived({msg:g}),c.onOfferAckSent(g)):c.onCallStarted(h||b("FBRTCLogger").Trigger.UNKNOWN),h!==b("FBRTCLogger").Trigger.REDIAL_BUTTON&&b("FBRTCLogger").getInstance().logError(d,e,"Missing call summary from storage")):c.$33&&(c.$38=null,c.$34=null,c.$35=null,c.$36=null,delete c.$6[l.CALL_ENDED],delete c.$7[l.CALL_ENDED],c.$20=0,c.$33=null);return c};a.logSavedSummaries=function(a){var c=a.getLoggableSummaries(),d=c.length;if(d<=0)return;var e=b("FBRTCLogger").getInstance(),f=[];for(var g=0;g<d;g++){var h=c[g];e.logEndCallSummary(h);f.push({peerID:h.peerID,callID:h.callID})}a.removeCallSummaries(f);e.logToConsole("Logged pending summaries: "+d)};c.logThisSummary=function(a,c){c===void 0&&(c=!1);var d=b("FBRTCLogger").getInstance();a.retrieveCallSummary(this.peerID,this.callID)!=null&&(d.logEndCallSummary(this,c),a.removeCallSummary(this.peerID,this.callID),d.logToConsole("Logged active summary"))};c.isNull=function(){var b=a.CANONICAL_NULL_SUMMARY;return this.peerID===b.peerID&&this.callID===b.callID&&this.isCaller()===b.isCaller()&&this.getCallTrigger()===b.getCallTrigger()};c.save=function(a){var c=(h||(h=b("performanceNow")))(),d=c-this.$19;if(d>i){this.$23.logInfo(this.peerID,this.callID,"Summary too old: "+d);return}b("cr:1440831")&&b("cr:1440831").logCallSummaryHeartbeat(this,"interval");a.storeCallSummary(this.peerID,this.callID,this);this.$19=c};c.getVersion=function(){return this.$1};c.getLastUpdatedTime=function(){return this.$17};c.setLastUpdatedTime=function(a){this.$17=a};c.getExtraInfo=function(){return this.$22};c.getCallTrigger=function(){return this.$4};c.addExtraInfo=function(a,b){this.$22[a]=b,this.$57()};c.isCaller=function(){return this.$2};c.isNetworkReady=function(){if(this.$6[l.NETWORK_READY])return!0;else return!1};c.isAnswerReceived=function(){if(this.$6[l.RECV_ANSWER])return!0;else return!1};c.onCallStarted=function(a){this.$4=a,this.$59(l.CALL_STARTED),this.$57(),b("ErrorMetadata").addGlobalMetadata("RT_WEB","TYPE","CallStarted")};c.setCallTrigger=function(a){this.$4=a,this.$57()};c.setPCIsConnected=function(a){this.$37!==a&&(this.$37=a,this.$41[this.$58()]=a)};c.onPopupOpened=function(){this.deviceID=b("ChannelClientID").getID(),this.$60(m.POPUP_OPENED),this.$21++,this.$57()};c.onPressedAnswer=function(){this.$60(m.PRESSED_ANSWER),this.$57()};c.onMediaRequested=function(){this.$60(m.MEDIA_REQUESTED),this.$57()};c.onMediaSucceeded=function(){this.$60(m.MEDIA_SUCCEEDED),this.$57()};c.onFellbackToAudio=function(){this.$60(m.FELLBACK_TO_AUDIO),this.$57()};c.setConnectionType=function(a){this.$39=a,this.$57()};c.setUploadLogLevel=function(a){this.$3=a,this.$57()};c.getCallType=function(){return this.$29};c.setCallType=function(a){this.$29=a,this.addExtraInfo(b("FBRTCLogger").Key.CALL_TYPE,a),this.$57()};c.setVideoDurations=function(a,b){this.$31=a,this.$32=b,this.$57()};c.setAudioDevice=function(a){this.$47=a};c.setVideoDevice=function(a){this.$46=a};c.setScreenDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.SCREEN_DURATION,a)};c.setConferenceName=function(a){this.$26=a,this.$57()};c.setTotalVideoFilterDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_DURATION_WITH_FILTER,Math.ceil(a).toString())};c.setCoExperienceEffectDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_TOTAL_DURATION,Math.ceil(a).toString())};c.setEffectCount=function(a){this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_COUNT,a.toString())};c.setJoinWithSID=function(a){this.$27=a,this.$57()};c.setServerInfoData=function(a){this.$30=a,this.$57()};c.setActiveConnection=function(a){this.$25=a,this.$57()};c.setEscalationP2PCallID=function(a){this.$28=a,this.$57()};c.onOfferAckSent=function(a){this.onMessageSent({type:b("FBRTCConstants").PayloadType.OFFER_ACK,flag:a.flag})};c.onMessageSent=function(a){var c=a.flag===1;switch(a.type){case b("FBRTCConstants").PayloadType.OFFER:this.$61(c,l.SENT_OFFER,l.SENT_RETRIED_OFFER);this.$62(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$61(c,l.SENT_ANSWER,l.SENT_RETRIED_ANSWER);this.$62(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.OK:this.$59(l.SENT_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$59(l.SENT_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$61(c,l.SENT_OFFER_ACK,l.SENT_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$61(c,l.SENT_ANSWER_ACK,l.SENT_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$62(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ACK:a.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$63(o.SENT_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:a.ack_id?this.$63(o.SENT_ESC_RESPONSE):this.$63(o.SENT_ESC_REQUEST);break;default:}this.$57()};c.$62=function(a,b,c){var d,e=null;a=this.$24.extractIceInfo(a.sdp);for(var f=0;f<a.length;f++)d=a[f].gen,e=a[f].type,d===0&&this.$64(b,e),this.$64(c,e)};c.$64=function(a,b){!a[b]?a[b]=1:a[b]+=1};c.$65=function(a){this.addExtraInfo(b("FBRTCLogger").Key.PEER_IS_MOBILE,a.isFromMobile()?"1":"0")};c.onFullMessageReceived=function(a){var c=a.msg,d=c.flag===1;switch(c.type){case b("FBRTCConstants").PayloadType.OFFER:this.$65(a);this.$61(d,l.RECV_OFFER,l.RECV_RETRIED_OFFER);this.$62(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$65(a);this.$61(d,l.RECV_ANSWER,l.RECV_RETRIED_ANSWER);this.$62(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.OK:this.$59(l.RECV_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$59(l.RECV_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$61(d,l.RECV_OFFER_ACK,l.RECV_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$61(d,l.RECV_ANSWER_ACK,l.RECV_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$62(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.ACK:c.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$63(o.RECV_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:c.ack_id?c.videoon||c.reqVideoOn?this.$63(o.RECV_ESC_ACCEPT):this.$63(o.RECV_ESC_DECLINE):c.videoon||c.reqVideoOn?this.$63(o.RECV_ESC_REQUEST):this.$63(o.RECV_ESC_TIMEOUT);break;default:}this.$57()};c.onMsgAckReceived=function(a,b){a=a.msg.flag===1;b?this.$61(a,l.RECV_OFFER_ACK,l.RECV_RETRIED_OFFER_ACK):this.$61(a,l.RECV_ANSWER_ACK,l.RECV_RETRIED_ANSWER_ACK)};c.onNetworkReady=function(){this.$59(l.NETWORK_READY),this.$57()};c.onCallConnected=function(){this.$59(l.CALL_CONNECTED),this.$57()};c.onCallEnded=function(a,b,c,d){this.$33=c,this.$34=a,this.$35=d,this.$36=b,this.$38===null&&(this.$38=this.$37),this.$59(l.CALL_ENDED),this.$57()};c.setOfferSentTime=function(){this.$59(l.SENT_OFFER)};c.setOfferAckReceivedTime=function(){this.$59(l.RECV_OFFER_ACK)};c.setAnswerSentTime=function(){this.$59(l.SENT_ANSWER)};c.setAnswerReceivedTime=function(){this.$59(l.RECV_ANSWER)};c.setJoinRequestSent=function(){this.$59(l.SENT_JOIN_REQUEST),this.$57()};c.setJoinResponseReceived=function(){this.$59(l.RECV_JOIN_RESPONSE),this.$57()};c.setJoinResponseProcessed=function(){this.$59(l.PROC_JOIN_RESPONSE),this.$57()};c.setRingRequestReceived=function(){this.$59(l.RECV_RING_REQUEST),this.$57()};c.setRingResponseSent=function(){this.$59(l.SENT_RING_RESPONSE),this.$57()};c.setEscalationAvailable=function(){this.$66(n.ESCALATION_IS_AVAILABLE)};c.setEscalationInitiated=function(){this.$66(n.USER_INITIATED_REQUEST)};c.setReceivedEscalationRequest=function(){this.$66(n.RECEIVED_INCOMING_REQUEST)};c.setInvalidP2PEscalationState=function(){this.$66(n.REJECTED_INVALID_P2P_STATE)};c.setEscalationConnectingToMultiway=function(){this.$66(n.CONNECTING_TO_MULTIWAY)};c.setEscalationConnectedToMultiway=function(){this.$66(n.CONNECTED_TO_MULTIWAY)};c.setEscalationPeerConnectingToMultiway=function(){this.$66(n.PEER_CONNECTING_TO_MULTIWAY)};c.setEscalationPeerConnectedToMultiway=function(){this.$66(n.PEER_CONNECTED_TO_MULTIWAY)};c.setReadyToEscalate=function(){this.$66(n.READY_TO_ESCALATE)};c.setEscalationPeerFailedToConnectToMultiway=function(){this.$66(n.PEER_FAILED_TO_CONNECT_TO_MULTIWAY)};c.setEscalationTimedOut=function(){this.$66(n.TIMED_OUT)};c.setVidEscalationInitClick=function(){this.$63(o.ESCALATION_INITIATION_BUTTON_CLICKED)};c.setVidEscalationAcceptedClick=function(){this.$63(o.ESCALATION_APPROVED_BUTTON_CLICKED)};c.setVidEscalationDeclinedClick=function(){this.$63(o.ESCALATION_DECLINED_BUTTON_CLICKED)};c.setVidEscalationMediaRequested=function(){this.$63(o.USERMEDIA_REQUEST)};c.setVidEscalationMediaSuccess=function(){this.$63(o.USERMEDIA_SUCCESS)};c.setVidEscalationMediaFailed=function(){this.$63(o.USERMEDIA_FAILURE)};c.setVideoCapabilities=function(a){this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_CAPABILITIES,a)};c.setMediaInputs=function(a){this.addExtraInfo(b("FBRTCLogger").Key.MEDIA_INPUTS,a)};c.getVideoReceivedCodec=function(){return this.$44};c.setVideoReceivedCodec=function(a){this.$44=a};c.getVideoSentCodec=function(){return this.$45};c.setVideoSentCodec=function(a){this.$45=a};c.getEhist=function(){return this.$43};c.setEhist=function(a){this.$43=a};c.getAudioSentCodec=function(){return this.$48};c.setAudioSentCodec=function(a){this.$48=a};c.setVideoMaxTotalDecodeTime=function(a){this.$50=a};c.getTotalDecodeTime=function(){return this.$51};c.setTotalDecodeTime=function(a){this.$51=a};c.getTotalEncodeTime=function(){return this.$52};c.setTotalEncodeTime=function(a){this.$52=a};c.toString=function(){var a={};a.core_metrics=this.$67();a.time_series=null;return JSON.stringify(a)};c.$67=function(){var a={};a.ver=this.$1;a.log_level=b("FBRTCConstants").uploadLogLevelString(this.$3);a.caller=this.$2;a.call_type=this.$29;a.active_conn=this.$25;a.app_event_times=this.$9;a.conf_name=this.$26;a.CoreAudioMetrics=this.$68();a.join_with_sid=this.$27;a.esc_p2p_call_id=this.$28;a.esc_state_times=this.$8;a.vid_esc_times=this.$14;a.serv_info=this.$30;a.conn=this.$69();a.peer_id=this.peerID;a.has_video=!0;a.open_count=this.$21;a.signaling=this.$70();a.sender=this.$71();a.receiver=this.$72();a.end=this.$73();a.video=this.$74();a.push_phase=b("SiteData").push_phase;a.DebugAudioMetrics=this.$75();a.device_charged=this.$42;a.client_version=this.$5;a.perf=this.$76();a.grid=this.$77();a.pinned=this.$78();a.thumbnail=this.$79();a.sys_pct=this.$80();a.sender_pct=this.$81();return a};c.$75=function(){return{NetworkReceive:{jb_nm:this.$82()}}};c.$83=function(a,b,c){var d=this,e=0,f=0;b==null&&(b=1);var g=this.$49.getVideoStreamReportKeys();g.forEach(function(b){if(c==null||d.$49.getVideoContentType(b)===c){b=d.$49.getVideoMetric(b,a);b&&(e+=b.total,f+=b.count)}});return f===0?null:Math.round(e*b/f)};c.$84=function(a,b,c){var d=this,e=0,f=0;b==null&&(b=1);var g=this.$49.getVideoStreamReportKeys();g.forEach(function(b){if(c==null||d.$49.getVideoContentType(b)===c){b=d.$49.getVideoMetric(b,a);b&&(e+=b.current,f+=1)}});return f===0?null:Math.round(e*b)};c.$85=function(a,b){var c=this,d=0,e=0,f=this.$49.getVideoStreamReportKeys();f.forEach(function(f){if(b==null||c.$49.getVideoContentType(f)===b){f=c.$49.getVideoMetric(f,a);f&&e===0&&(d=f.current,e++)}});return e===0?null:d};c.$86=function(a,b){var c=this,d=0,e=0;b==null&&(b=1);var f=this.$49.getAudioStreamReportKeys();f.forEach(function(b){b=c.$49.getMetricStats(b,a);b&&(d+=b.current,e+=1)});return e===0?null:Math.round(d*b)};c.$82=function(){var a=this,b={},c=this.$49.getAudioStreamReportKeys();if(c.length<1)return b;var d=c[c.length-1];p.forEach(function(c){var e=a.$49.getMetricStats(d,c);e&&(b[c]={m:e.min,M:e.max,avg:e.mean})});c=this.$49.getJitterBufferStats(d);b.neteq={maxWait:this.$87(c.max),meanWait:this.$88(),mediaWait:this.$87(c.median),minWait:this.$87(c.min)};return b};c.$87=function(a){return a==null||a===-1?-1:Math.round(a*1e3)};c.$88=function(){var a=this.$86(b("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_DELAY),c=this.$86(b("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_EMITTED_COUNT);return a!=null&&c!=null&&c>0?Math.round(a*1e3/c):-1};c.$68=function(){var a=this,c=this.$49.getAudioStreamReportKeys(),d=c.reduce(function(c,d){d=a.$49.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_DEV_IS_STALLED);return!d||d.updatedTime==null||d.current==null?c:d.updatedTime>c.timeStamp?{val:d.current,timeStamp:d.updatedTime}:c},{val:-1,timeStamp:-Infinity}).val>0?1:0,e=this.$86(b("FBRTCMediaMetricsConst").AUDIO_DEV_REC_STALLS),f=this.$86(b("FBRTCMediaMetricsConst").AUDIO_DEV_TOTAL_STALLS),g=this.$86(b("FBRTCMediaMetricsConst").AUDIO_DEV_STALL_DURATION);c=c.reduce(function(c,d){d=a.$49.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_RECEIVE_LOG_LEVEL);return!d?c:{count:c.count+d.count,levelSum:c.levelSum+d.current}},{count:0,levelSum:0});var h=c.count===0?0:Math.round(c.levelSum/c.count);f={astall:f,audio_device:this.$47,isstall:d,rstall:e,rx_chan_proc_lvl:h,rx_sum_lvl:Math.round(c.levelSum),sdur:g};return f};c.$69=function(){var a={dtls:1},b=this.$71();b.avgrtt&&(a.avgrtt=b.avgrtt,a.maxrtt=b.maxrtt,a.minrtt=b.minrtt);this.$40!==null&&(a.relay_ip=this.$40);a.ctd=this.$41;return a};c.$70=function(){var a={};this.$4&&(a.trigger=this.$4);a.start_time=this.$15;a.time_from_start=this.$6;a.new_time_from_start=this.$7;var b=this.$89();b>0&&(a.duration=b);return a};c.$89=function(a){var b=this.$7[l.CALL_CONNECTED]||this.$7[l.NETWORK_READY];if(!b)return 0;a=this.$7[l.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$16||this.$58();return Math.max(0,a-b)};c.$71=function(){var a=this,c={},d=this.$49.getAudioStreamReportKeys(),e=0,f=0,g=0;d.forEach(function(c){c=a.$49.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_SENT);c!=null&&(e+=c.current,f+=c.current-c.first,g+=c.updatedTime-c.startedTime)});g>0&&(c.ube_avg=Math.round(f*8e3/g));c.bytes=e;c.plost=this.$86(b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT_LOST);c.psent=this.$86(b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT);var h=0,i=0,j=null,k=null;d.forEach(function(c){c=a.$49.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_RTT_SENT);c&&(i+=c.count,h+=c.total,j=j==null?c.min:Math.min(j,c.min),k=k==null?c.max:Math.max(k,c.max))});i>0&&(c.avgrtt=Math.round(h/i),c.maxrtt=k,c.minrtt=j);this.$10&&(c.ice_g0=this.$10);this.$12&&(c.ice=this.$12);this.$48!=null&&this.$48!==""&&(c.codec={www:this.$48});return c};c.$72=function(){var a=this,c,d={},e=this.$49.getAudioStreamReportKeys();d.jbd=this.$86((c=b("FBRTCMediaMetricsConst")).AUDIO_JITTER_BUFFER_DELAY,1e3);d.jbec=this.$86(c.AUDIO_JITTER_BUFFER_EMITTED_COUNT);var f=0,g=0,h=0,i=0,k=0;e.forEach(function(d){var c,e=a.$49.getMetricStats(d,(c=b("FBRTCMediaMetricsConst")).DECODING_PLC),j=a.$49.getMetricStats(d,c.DECODING_PLC_CNG),l=a.$49.getMetricStats(d,c.DECODING_CNG),m=a.$49.getMetricStats(d,c.DECODING_NORMAL);d=a.$49.getMetricStats(d,c.DECODING_NETEQ_CALL);l!=null&&m!=null&&e!=null&&j!=null&&d!=null&&(f+=e.current,g+=j.current,h+=l.current,i+=m.current,k+=d.current)});d.dec_plc=f;d.dec_plc_cng=g;d.dec_cng=h;d.dec_normal=i;d.neteq_calls=k;d.fecpd=this.$86(c.AUDIO_FEC_PACKETS_DISCARDED);d.fecpr=this.$86(c.AUDIO_FEC_PACKETS_RECEIVED);var l=0;e.forEach(function(c){c=a.$49.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);c&&(l+=c.current)});d.bytes=l;var m=0,n=0;e.forEach(function(c){c=a.$49.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);if(c){var d=c.updatedTime-c.startedTime;d>0&&(m+=c.current-c.first,n+=d)}});n>0&&(d.dbe_avg=Math.round(m*8e3/n));var o=0;e.forEach(function(c){c=a.$49.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED_LOST);c&&(o+=c.current)});d.plost=o;var p=0,q,r,s,t=0,u=0;e.forEach(function(c){var d=a.$49.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED),e=a.$49.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_RTT_RECEIVED);c=a.$49.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_RECEIVE_TOTAL_ENERGY);c!=null&&(t+=c.current,u+=c.updatedTime-c.startedTime);d!=null&&(p+=d.current,e!=null&&e.mean!=null&&(q=q==null?d.current*e.mean:q+d.current*e.mean,s=s==null?e.max:Math.max(s,e.max),r=r==null?e.min:Math.min(r,e.min)))});d.taue=Math.round(t*j);d.taut=Math.round(u);p>0&&q!=null&&(d.avgrtt=Math.round(q/p),d.maxrtt=s,d.minrtt=r);d.precv=p;this.$11&&(d.ice_g0=this.$11);this.$13&&(d.ice=this.$13);return d};c.$73=function(){var a={};this.$34!=null&&(a.end_call_reason_string=b("FBRTCConstants").callEndReasonString(this.$34),this.$35!==null&&(a.end_call_subreason_string=this.$35),a.remote_ended=this.$36,a.end_ctd=this.$38);this.$39&&(a.conn_type=this.$39);return a};c.$74=function(){var a;a={ch:null,cw:null,ah:null,aw:null,ehist:this.getEhist(),eipxl:null,ename:this.$45,eopxl:null,fcap:this.$84((a=b("FBRTCMediaMetricsConst")).VIDEO_CAPTURE_FRAME_COUNT),eqps:this.$84(a.OUTBOUND_QP),frames:this.$84(a.FRAMES_ENCODED),fcsn:this.$84(a.FRAMES_SENT),histResScale:null,psent:this.$84(a.VIDEO_PKTS_SENT),plost:this.$84(a.VIDEO_PKTS_SEND_LOST),ss:{avbr:null,avbw:this.$83(a.VIDEOBWE_SEND_BANDWIDTH,1,"screen"),debug:{debugFPS:null,debuglastUpdate:null,debugtracktimestamp:null},dur:null,eiframes:null,eipxl:null,eopxl:null,eqps:this.$84(a.OUTBOUND_QP,1,"screen"),frames:this.$84(a.FRAMES_ENCODED,1,"screen")},sim_l_chg:this.$84(a.SIMULCAST_LAYER_CHANGES,1),tet:this.$84(a.VIDEO_TOTAL_ENCODE_TIME,1e3),tpsd:this.$84(a.VIDEO_TOTAL_PACKET_SEND_DELAY,1e3),video_device:this.$46};return{sender:this.$90(a),receiver:this.$91(),ld:this.$31,rd:this.$32,bwe:this.$92()}};c.$76=function(){var a,b=this.$89()/1e3;if(b<=0)return;a=((a=this.$51)!=null?a:0)+((a=this.$52)!=null?a:0);a=Math.round(100*(a/b));return{cpu:{proc:{avg:a}}}};c.$92=function(){var a=this,c={avg_enc_bitrate:this.$93(),avg_send_bw:this.$94(),avg_trans_bitrate:null,avg_retrans_bitrate:null},d=this.$49.getVideoStreamReportKeys();d.some(function(d){var e=a.$49.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_TRANSMIT_BITRATE);d=a.$49.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_RETRANSMIT_BITRATE);if(e&&d){c.avg_trans_bitrate=e.mean;c.avg_retrans_bitrate=d.mean;return!0}return!1});return c};c.$93=function(){var a=this,c=this.$49.getVideoStreamReportKeys(),d=null;c.some(function(c){c=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_BYTES_SENT);if(c){var e=c.current-c.first;c=c.updatedTime-c.startedTime;if(c>0){d=e*8/c*1e3;return!0}}return!1});return d};c.$94=function(){var a=this,c=this.$49.getVideoStreamReportKeys(),d=null;c.some(function(c){d=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEOBWE_SEND_BANDWIDTH);return d?!0:!1});d&&(d=d.mean);return d};c.$81=function(){var a=this.$95(u,C,x),b=this.$96(v,D,x),c=this.$96(v,E,x);return{audio:a,screen:b,video:c}};c.$95=function(a,c,d){var e=this,f={};a.forEach(function(a){var g,h=a.field,i=a.key;a=a.scale;var j=[];g=(g=e.$49.getMetricStats(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(i,d)))==null?void 0:g.current;k.forEach(function(a){a=(a=(a=e.$49.getMetricStats(c,b("FBRTCMediaMetricTracker").getPercentMediaKey(i,d,a)))==null?void 0:a.current)!=null?a:0;j.push(a)});g!=null&&(f[h]=e.$97(g,j,a,k))});return Object.keys(f).length>0?f:null};c.$96=function(a,c,d){var e=this,f={};a.forEach(function(a){var g,h=a.field,i=a.key;a=a.scale;var j=[];g=(g=e.$49.getVideoMetric(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(i,d)))==null?void 0:g.current;k.forEach(function(a){a=(a=(a=e.$49.getVideoMetric(c,b("FBRTCMediaMetricTracker").getPercentMediaKey(i,d,a)))==null?void 0:a.current)!=null?a:0;j.push(a)});g!=null&&(f[h]=e.$97(g,j,a,k))});return Object.keys(f).length>0?f:null};c.$80=function(){return this.$95(t,w,x)};c.$77=function(){var a=this,b={audio:{avg:{},max:{},min:{}},video:{avg:{},max:{},min:{}}},c=this.$49.getAudioStreamReportKeys(),d=this.$49.getVideoStreamReportKeys();q.forEach(function(d){var e=d.field,f=d.key;d=d.scale;f=a.$98(f,c,d,!0,k);f!=null&&(b.audio.avg[e]=f.avg,b.audio.max[e]=f.max,b.audio.min[e]=f.min)});r.forEach(function(c){var e=c.field,f=c.key;c=c.scale;f=a.$98(f,d,c,!1,k);f!=null&&(b.video.avg[e]=f.avg,b.video.max[e]=f.max,b.video.min[e]=f.min)});s.forEach(function(c){var e=c.field,f=c.key;c=c.scale;f=a.$98(f,d,c,!1,[]);f!=null&&(b.video.avg[e]=f.avg.avg,b.video.max[e]=f.max.avg,b.video.min[e]=f.min.avg)});return b};c.$99=function(a,c,d,e,f){var g=this,h=0,i=new Array(f.length).fill(0),j=0,k=0;c.forEach(function(c){var d=null,l=[];if(e){var m;j=g.$49.getAudioStreamDuration(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,z));d=(m=g.$49.getMetricStats(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,z)))==null?void 0:m.current;f.forEach(function(d){d=(d=g.$49.getMetricStats(c,b("FBRTCMediaMetricTracker").getPercentMediaKey(a,z,d)))==null?void 0:d.current;l.push(d)})}else{j=g.$49.getVideoStreamDuration(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,z));d=(m=g.$49.getVideoMetric(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,z)))==null?void 0:m.current;f.forEach(function(d){d=(d=g.$49.getVideoMetric(c,b("FBRTCMediaMetricTracker").getPercentMediaKey(a,z,d)))==null?void 0:d.current;l.push(d)})}d!=null&&(h+=d*j,i=l.map(function(a,b){return a!=null?a*j+i[b]:i[b]}),k+=j)});if(k===0)return null;c=h/k;var l=i.map(function(a){return a/k});return this.$97(c,l,d,f)};c.$98=function(a,c,d,e,f){var g=this,h=0,i=new Array(f.length).fill(0),j=0,k=new Array(f.length).fill(0),l=0,m=new Array(f.length).fill(0),n=0,o=0;c.forEach(function(c){var d=null,p=[];if(e){var q;n=g.$49.getAudioStreamDuration(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,x));d=(q=g.$49.getMetricStats(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,x)))==null?void 0:q.current;f.forEach(function(d){d=(d=g.$49.getMetricStats(c,b("FBRTCMediaMetricTracker").getPercentMediaKey(a,x,d)))==null?void 0:d.current;p.push(d)})}else{n=g.$49.getVideoStreamDuration(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,x));d=(q=g.$49.getVideoMetric(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,x)))==null?void 0:q.current;f.forEach(function(d){d=(d=g.$49.getVideoMetric(c,b("FBRTCMediaMetricTracker").getPercentMediaKey(a,x,d)))==null?void 0:d.current;p.push(d)})}d!=null&&n>0&&(h+=d*n,i=p.map(function(a,b){return a!=null?a*n+i[b]:i[b]}),o===0?(j=d,l=d,k=p,m=p):d>j?(j=d,k=p):d<l&&(l=d,m=p),o+=n)});if(o===0)return null;c=h/o;var p=i.map(function(a){return a/o});c={avg:this.$97(c,p,d,f),min:this.$97(l,m,d,f),max:this.$97(j,k,d,f)};return c};c.$97=function(a,b,c,d){var e={};e.avg=Math.round(a*c);d.forEach(function(a,d){a="p".concat(String(a));e[a]=Math.round(b[d]*c)});return e};c.$79=function(){var a=this,b={audio:{},video:{}},c=this.$49.getAudioStreamReportKeys(),d=this.$49.getVideoStreamReportKeys(),e=!1;q.forEach(function(d){var f=d.field,g=d.key;d=d.scale;g=a.$99(g,c,d,!0,k);g!=null&&(b.audio[f]=g,e=!0)});r.forEach(function(c){var f=c.field,g=c.key;c=c.scale;g=a.$99(g,d,c,!1,k);g!=null&&(b.video[f]=g,e=!0)});s.forEach(function(c){var f=c.field,g=c.key;c=c.scale;g=a.$99(g,d,c,!1,[]);g!=null&&(b.video[f]=g.avg,e=!0)});return!e?null:b};c.$78=function(){var a=this,c=this.$49.getAudioStreamReportKeys(),d=this.$49.getVideoStreamReportKeys();if(!c.includes(A)&&!d.includes(B))return null;var e={audio:{},video:{}};q.forEach(function(c){var d,f=c.field,g=c.key;c=c.scale;var h=[];d=(d=a.$49.getMetricStats(A,b("FBRTCMediaMetricTracker").getAvgMediaKey(g,y)))==null?void 0:d.current;k.forEach(function(c){c=(c=(c=a.$49.getMetricStats(A,b("FBRTCMediaMetricTracker").getPercentMediaKey(g,y,c)))==null?void 0:c.current)!=null?c:0;h.push(c)});d!=null&&(e.audio[f]=a.$97(d,h,c,k))});r.forEach(function(c){var d,f=c.field,g=c.key;c=c.scale;var h=[];d=(d=a.$49.getVideoMetric(B,b("FBRTCMediaMetricTracker").getAvgMediaKey(g,y)))==null?void 0:d.current;k.forEach(function(c){c=(c=(c=a.$49.getVideoMetric(B,b("FBRTCMediaMetricTracker").getPercentMediaKey(g,y,c)))==null?void 0:c.current)!=null?c:0;h.push(c)});d!=null&&(e.video[f]=a.$97(d,h,c,k))});s.forEach(function(c){var d=c.field,f=c.key;c=c.scale;var g=[];f=(f=a.$49.getVideoMetric(B,b("FBRTCMediaMetricTracker").getAvgMediaKey(f,y)))==null?void 0:f.current;f!=null&&(e.video[d]=a.$97(f,g,c,[]).avg)});return e};c.$90=function(a){var c=this,d=this.$49.getVideoStreamReportKeys(),e=new Array(5).fill(0),f=0;d.forEach(function(a){a=c.$49.getHistResScale(a);a&&(f+=1,a.histogram.forEach(function(a,b){e[b]+=a}))});a.histResScale=f===0?null:e;d.reverse().some(function(d){var e,f=c.$49.getVideoMetric(d,(e=b("FBRTCMediaMetricsConst")).VIDEO_CAPTURE_WIDTH),g=c.$49.getVideoMetric(d,e.VIDEO_CAPTURE_HEIGHT),h=c.$49.getVideoMetric(d,e.VIDEO_ENCODED_WIDTH);d=c.$49.getVideoMetric(d,e.VIDEO_ENCODED_HEIGHT);f&&g&&(a.cw=f.current,a.ch=g.current);if(h&&d){a.aw=h.current;a.ah=d.current;return!0}return!1});this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]!=null&&typeof this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]==="number"&&(a.ss.dur=this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]);d=this.$84(b("FBRTCMediaMetricsConst").VIDEO_BYTES_SENT,1,"screen");d!=null&&a.ss.dur!=null&&a.ss.dur>0&&(a.ss.avbr=Math.round(1e3*8*d/a.ss.dur));d=this.$84(b("FBRTCMediaMetricsConst").VIDEO_SUM_ENCODED_PIXEL,1,"screen");var g=this.$84(b("FBRTCMediaMetricsConst").FRAMES_ENCODED,1,"screen");d!=null&&g!=null&&g>0&&(a.ss.eopxl=Math.round(d/g));d=this.$84(b("FBRTCMediaMetricsConst").VIDEO_SUM_CAPTURE_PIXEL,1,"screen");g=this.$84(b("FBRTCMediaMetricsConst").VIDEO_CAPTURE_FRAME_COUNT,1,"screen");d!=null&&g!=null&&g>0&&(a.ss.eiframes=g,a.ss.eipxl=Math.round(d/g));d=this.$85(b("FBRTCMediaMetricsConst").VIDEO_DEBUGFPS,"screen");d!=null&&(a.ss.debug.debugFPS=d);g=this.$85(b("FBRTCMediaMetricsConst").VIDEO_DEBUGLASTUPDATE,"screen");g!=null&&(a.ss.debug.debuglastUpdate=g);d=this.$85(b("FBRTCMediaMetricsConst").VIDEO_DEBUGTRACKTIMESTAMP,"screen");d!=null&&(a.ss.debug.debugtracktimestamp=d);g=this.$84(b("FBRTCMediaMetricsConst").VIDEO_SUM_ENCODED_PIXEL,1);d=this.$84(b("FBRTCMediaMetricsConst").FRAMES_ENCODED,1);g!=null&&d!=null&&d>0&&(a.eopxl=Math.round(g/d));g=this.$84(b("FBRTCMediaMetricsConst").VIDEO_SUM_CAPTURE_PIXEL,1);d=this.$84(b("FBRTCMediaMetricsConst").VIDEO_CAPTURE_FRAME_COUNT,1);g!=null&&d!=null&&d>0&&(a.eipxl=Math.round(g/d));return a};c.$91=function(){var a=this,c=this.$49.getVideoStreamReportKeys(),d=0,e=0,f=0,g=0,h=0;c.forEach(function(c){var i=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECEIVED),j=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECV_LOST);i&&j&&(f+=i.current,g+=j.current);i=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_BYTES_RECEIVED);i&&(d+=i.current-i.first);j=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").FRAMES_DECODED);j&&(h+=j.current);i=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_DECODE_TIME);i&&(e+=i.current)});var i={dec_bytes:d,dec_frame:h,dec_time:this.$50?Math.round(this.$50):null,dec_time_all_streams:Math.round(e),dname:this.$44,dpxl:null,frd:h,frcnt:null,jtasb:null,precv:f,plost:g,qps:this.$84(b("FBRTCMediaMetricsConst").INBOUND_QP),rh:null,rw:null,tdt:this.$84(b("FBRTCMediaMetricsConst").VIDEO_TOTAL_DECODE_TIME,1e3),jbd:null,jbec:null,recjbl:null,e2el:null,av:null,avabs:null,avoob:null},j=this.$84(b("FBRTCMediaMetricsConst").VIDEO_JITTER_BUFFER_DELAY,1e3),k=this.$84(b("FBRTCMediaMetricsConst").VIDEO_JITTER_BUFFER_EMITTED_COUNT);i.jbd=j;i.jbec=k;j!=null&&k!=null&&k>0&&(i.recjbl=Math.round(j/k));var l=0,m=0,n=0,o=0,p=0;c.forEach(function(c){var d,e=a.$49.getVideoMetric(c,(d=b("FBRTCMediaMetricsConst")).AV_SYNC),f=a.$49.getVideoMetric(c,d.AV_SYNC_ABS),g=a.$49.getVideoMetric(c,d.AV_SYNC_OOB),h=a.$49.getVideoMetric(c,d.AV_SYNC_COUNT);c=a.$49.getVideoMetric(c,d.FRAMES_DECODED);c!=null&&e!=null&&f!=null&&e.mean!=null&&f.mean!=null&&(n+=c.current,l+=e.mean*c.current,m+=f.mean*c.current);g!=null&&h!=null&&(p+=h.current,o+=g.current)});n>0&&(i.av=Math.round(l/n),i.avabs=Math.round(m/n));p>0&&(i.avoob=Math.round(o*1e4/p));var q=0,r=0;c.forEach(function(c){var d=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_E2E_LATENCY);c=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").FRAMES_DECODED);d!=null&&d.mean!=null&&c!=null&&(q+=c.current,r+=d.mean*c.current)});q>0&&(i.e2el=Math.round(r/q));i.frcnt=c.reduce(function(c,d){d=a.$49.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_FREEZE_COUNT);return c+(d?d.current:0)},0);i.frdur=c.reduce(function(c,d){d=a.$49.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_FREEZE_DURATION);return c+(d?d.current:0)},0);i.frdur=Math.round(i.frdur);i.pact=c.reduce(function(c,d){d=a.$49.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_PAUSE_COUNT);return c+(d?d.current:0)},0);i.padur=c.reduce(function(c,d){d=a.$49.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_PAUSE_DURATION);return c+(d?d.current:0)},0);i.padur=Math.round(i.padur);var s=0;c.forEach(function(c){var d=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_DECODED_HEIGHT);c=a.$49.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_DECODED_WIDTH);c&&d&&c.updatedTime>s&&(i.rw=c.current,i.rh=d.current,s=c.updatedTime)});i.jtasb=c.reduce(function(c,d){d=a.$49.getVideoMetric(d,b("FBRTCMediaMetricsConst").FRAMES_RECEIVED);return c+(d?d.current:0)},0);j=this.$84(b("FBRTCMediaMetricsConst").VIDEO_SUM_DECODED_PIXEL,1);k=this.$84(b("FBRTCMediaMetricsConst").FRAMES_DECODED,1);j!=null&&k!=null&&k>0&&(i.dpxl=Math.round(j/k));return i};c.$100=function(){return new Date().valueOf()-this.$15};c.$58=function(){var a=(h||(h=b("performanceNow")))()-this.$20;return Math.floor(this.$16+a)};c.$59=function(a){if(this.$6[a])return;this.$6[a]=this.$100();this.$7[a]=this.$58()};c.$66=function(a){if(this.$8[a])return;this.$8[a]=this.$100()};c.$60=function(a){if(this.$9[a])return;this.$9[a]=this.$100()};c.$63=function(a){if(this.$14[a])return;this.$14[a]=this.$100()};c.setDeviceCharged=function(a){this.$42!==!0&&(this.$42=a)};c.$61=function(a,b,c){a?this.$59(c):this.$59(b)};c.$57=function(){this.$17=new Date().valueOf()};c.$53=function(){var a=b("UserAgentData").browserName,c=b("UserAgentData").platformName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(c+=" Mobile",a==="Chrome"&&(a="Mobile "+a));return{device:b("UserAgentData").deviceName,os:c,os_version:b("UserAgentData").platformFullVersion,browser:a,browser_version:b("UserAgentData").browserFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}};c.$54=function(){window.navigator.connection!=null&&window.navigator.connection.effectiveType!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CONNECTION_EFFECTIVE_TYPE,window.navigator.connection.effectiveType)};c.$56=function(){var a=b("WebPerformanceDeviceInfo").getMobileYearClass();a!=null&&a>0?this.addExtraInfo(b("FBRTCLogger").Key.YEAR_CLASS,a):this.addExtraInfo(b("FBRTCLogger").Key.DESKTOP_DEVICE_CLASS,b("WebPerformanceDeviceInfo").getDeviceLevel())};c.$55=function(){navigator.hardwareConcurrency!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CPU_CORES,navigator.hardwareConcurrency),window.navigator.deviceMemory!=null&&this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_MEMORY,window.navigator.deviceMemory),this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_PIXEL_RATIO,window.devicePixelRatio)};c.getCallDuration=function(){var a=b("gkx")("707989");return this.$89({assumeOngoing:a})};c.getConnectedStartTime=function(){return this.$6[l.CALL_CONNECTED]?this.$6[l.CALL_CONNECTED]+this.$15:0};c.getCurrentTimeFromCallConnected=function(){var a=this.$7[l.CALL_CONNECTED];return this.$58()-a};c.getMediaMetricTracker=function(){return this.$49};c.getEndCallReason=function(){return this.$34!=null?b("FBRTCConstants").callEndReasonString(this.$34):"Unknown"};c.getRelayIP=function(){return this.$40};c.setRelayIP=function(a){this.$40=a};c.getClientVersion=function(){return this.$5};c.getHeartbeatData=function(){return this.$67()};c.wasCallEnded=function(){return this.$6[l.CALL_ENDED]!=null};return a}();c.CANONICAL_NULL_SUMMARY=Object.freeze(c.nullSummary());c.OLDEST_SUPPORTED_SUMMARY_VERSION=19;c.CURRENT_SUMMARY_VERSION=24;c.REPORT_KEY="reportID";e.exports=c}),null);
__d("FBRTCCallSummaryStore",["CacheStorage","FBLogger","FBRTCCallSummary","FBRTCLogger","RTWebUserActionLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h="localstorage",i="RTC_CALL_SUMMARY_",j="summary",k=2e3,l=3,m=3*60*1e3,n=null;a=function(){a.getInstance=function(){n||(n=new a());return n};function a(){this.$1=new(b("CacheStorage"))(h,i),this.$2=b("FBRTCLogger").getInstance()}var c=a.prototype;c.storeCallSummary=function(a,c,d){if(d.isNull()){b("RTWebUserActionLogger").logError({errorDomain:"FBRTCCallSummaryStore_storeCallSummary",errorType:"FBRTCCallSummaryStore Storing invalid FBRTCCallSummary!",callID:c,userID:a});b("FBLogger")("rtweb").mustfix("Storing invalid FBRTCCallSummary!");return}var e=this;this.$3(function(b){b[a]||(b[a]={});var f=b[a][c];if(f){f=e.$4(f);if(f&&f.getLastUpdatedTime()>d.getLastUpdatedTime()){e.$2.logToConsole("Outdated summaries");return null}}b[a][c]=e.$5(d);return b},e.$2.logError.bind(e.$2,a,c))};c.retrieveCallSummary=function(a,b){var c=this.getCallSummaries(),d=null;c[a]&&(d=c[a][b]);if(d)return this.$4(d);else return null};c.removeCallSummary=function(a,b){this.removeCallSummaries([{peerID:a,callID:b}])};c.removeCallSummaries=function(a){var b=this;this.$3(function(c){var d=a.length;for(var e=0;e<d;e++){var f=a[e].peerID,g=a[e].callID;c[f]&&c[f][g]&&(delete c[f][g],b.$6(c[f])&&delete c[f])}return c},this.$2.logError.bind(this.$2,null,null))};c.getLoggableSummaries=function(){var a=this.getCallSummaries(),b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])if(Object.prototype.hasOwnProperty.call(a[c],d)){var e=this.$4(a[c][d],m);e&&b.push(e)}return b};c.$6=function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0};c.$5=function(a){a={__t:Date.now(),__d:a.toJsonString()};return a};c.$4=function(a,c){return a&&(!c||Date.now()-a.__t>=c)?b("FBRTCCallSummary").fromJsonString(a.__d):null};c.getCallSummaries=function(){var a=this.$1.get(j)||{};return a};c.$3=function(a,c,d,e){d===void 0&&(d=l);(d===void 0||d===null)&&(d=l);var f=this.getCallSummaries(),h=this.getCallSummaries();f=a(f);if(f===null)return;var i=this.getCallSummaries();if((g||(g=b("areEqual")))(h,i))this.$1.set(j,f);else if(d>0){c("Retry lock");if(e){var m=this;b("setTimeout")(function(){m.$3(a,c,d-1,!0)},k)}else this.$3(a,c,d-1,!0)}else c("Failed to lock")};return a}();e.exports=a}),null);
__d("ZenonCallLogger",["ScotchRTWebUserActionLogger"],(function(a,b,c,d,e,f){"use strict";var g=new Set(["setMediaStats","infraAction"]);a=function(){function a(a,b){var c,d=this;this.$1=[];this.$2={localCallID:a.callID,peerID:a.peerID,sharedCallID:(c=a.serverInfoData)!=null?c:a.callID};b.forEach(function(b){return d.$1.push(new b(a))})}var c=a.prototype;c.log=function(a){g.has(a.name)||b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] ZenonCallLogger event: "+a.name}),this.$1.forEach(function(b){b.processEvent(a)})};c.getLogIdentifiers=function(){return this.$2};return a}();e.exports=a}),null);
__d("ZenonDeviceInfoUtils",["UserAgentData"],(function(a,b,c,d,e,f){"use strict";e.exports={getDeviceSoftwareInfo:function(){var a=b("UserAgentData").browserName,c=b("UserAgentData").platformName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(c+=" Mobile",a==="Chrome"&&(a="Mobile "+a));window.external&&window.external.pinPage&&(a==="Chrome"&&(a+=" Edge"));return{browser:a,browser_version:b("UserAgentData").browserFullVersion,device:b("UserAgentData").deviceName,os:c,os_version:b("UserAgentData").platformFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}}}}),null);
__d("ZenonVCSTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",MWS:"mws",VOIP:"voip"});f.ZenonCallType=a;c=b("$InternalEnum")({LL_BASIC:1,LL_DEBUG:2,LL_INFO:4,LL_NIL:0,LL_VERBOSE:5,LL_WARNING:3});f.ZenonUploadLogLevel=c}),null);
__d("ZenonCallSummary",["ChannelClientID","FBRTCExperiment","FBRTCLocalUploadLogLevel","SiteData","WebPerformanceDeviceInfo","ZenonCallSummaryStore","ZenonCallSummaryUploader","ZenonDeviceInfoUtils","ZenonDismissReason","ZenonVCSTypes","gkx","performanceNow"],(function(a,b,c,d,e,f){"use strict";var g;b("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance;b("ZenonDismissReason").ZenonDismissReason;var h=b("ZenonDismissReason").dismissToEndCallReason,i=b("ZenonVCSTypes").ZenonCallType,j=b("ZenonVCSTypes").ZenonUploadLogLevel,k={PRESSED_ANSWER:"p_a"};function l(a){var c=b("FBRTCExperiment").gen("rtweb_zenon_platform");c=c.getBool("use_zenon_platform",!1,!1);if((a==="mw"||a==="mw++")&&c)return"ZenonPlatform";a=b("gkx")("1341692");c=b("gkx")("1680228");return!a&&!c?"ZenonScotch":"Old Codebase"}var m=19,n=24,o={CALL_CONNECTED:"connected",CALL_ENDED:"ended",CALL_STARTED:"started",NETWORK_READY:"network_ready",PROC_JOIN_RESPONSE:"p_jresp",RECV_ANSWER:"r_a",RECV_ANSWER_ACK:"r_aack",RECV_JOIN_RESPONSE:"r_jresp",RECV_OFFER:"r_o",RECV_OFFER_ACK:"r_oack",RECV_OK:"r_ok",RECV_PRANSWER:"r_pr",RECV_RETRIED_ANSWER:"r_a2",RECV_RETRIED_ANSWER_ACK:"r_aack2",RECV_RETRIED_OFFER:"r_o2",RECV_RETRIED_OFFER_ACK:"r_oack2",RECV_RING_REQUEST:"r_rreq",SENT_ANSWER:"s_a",SENT_ANSWER_ACK:"s_aack",SENT_JOIN_REQUEST:"s_jreq",SENT_OFFER:"s_o",SENT_OFFER_ACK:"s_oack",SENT_OK:"s_ok",SENT_PRANSWER:"s_pr",SENT_RETRIED_ANSWER:"s_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",SENT_RETRIED_OFFER:"s_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",SENT_RING_RESPONSE:"s_rresp"},p={DESKTOP_DEVICE_CLASS:"desktop_device_class",DEVICE_INFO:"device_info",INITIATED_BY_APP_ID:"initiated_by_app_id",INITIATED_BY_PAGE_ID:"initiated_by_page_id",MAX_CONCURRENT_CONNECTED_PARTICIPANTS:"max_concurrent_connected_participants",PEER_IS_MOBILE:"peer_is_mobile",RATING:"rating5",RATING_SHOWN:"rating_shown",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",YEAR_CLASS:"year_class"};a=function(){function a(a){var c=a.callID,d=a.callTrigger,e=a.isCaller,f=a.isVideo,h=a.peerID,j=a.protocol;a=a.uploadLogLevel;this.$23=0;this.$24=0;this.$29={};this.$30={};this.$31={};this.$32={};this.$33=!1;this.$35=0;this.$36=!1;this.$37={};this.$38={};this.$39={};this.$40={};this.$46={CoreAudioMetrics:{},extraInfo:{},receiver:{},sender:{},video:{}};this.$48={};this.$49={};this.$50="sfu";this.$52={};this.$1=h;this.$2=c;this.$3=b("ChannelClientID").getID();this.$5=e;this.$4=n;this.$8=l(j);this.$6=(h=a)!=null?h:b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel();this.$7=d;this.$26=new Date().valueOf();this.$9=j!=="p2p"?"mws":j;this.$19=null;this.$18=null;this.$34=this.$1==="MW_PEER_ID";this.$9==="p2p"?this.setCallType(f?i.DIRECT_VIDEO:i.VOIP):this.setCallType(i.MWS);this.$28=(g||(g=b("performanceNow")))();this.$27=0;this.$25=this.$28;this.$51=0;this.$52[p.DEVICE_INFO]=b("ZenonDeviceInfoUtils").getDeviceSoftwareInfo();this.$53();this.$54()}a.$55=function(a){try{return JSON.parse(a)}catch(a){return null}};a.fromJsonString=function(b){var c;b=this.$55(b);if(b==null)return null;if(b.version<m)return null;if(!Object.prototype.hasOwnProperty.call(b,"peerID")||!Object.prototype.hasOwnProperty.call(b,"callID")||!Object.prototype.hasOwnProperty.call(b,"isCaller")||!Object.prototype.hasOwnProperty.call(b,"startTime")||!Object.prototype.hasOwnProperty.call(b,"trigger")||!Object.prototype.hasOwnProperty.call(b,"signalingTime")||!Object.prototype.hasOwnProperty.call(b,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(b,"lastSerializedTime"))return null;var d=b.activeConn==="p2p"?b.activeConn:"mw";d=new a({callID:b.callID,isCaller:b.isCaller,isVideo:b.callType===i.DIRECT_VIDEO,peerID:b.peerID,protocol:d});d.$3=b.deviceID;d.$4=b.version;d.$6=b.uploadLogLevel;d.$26=b.startTime;d.$7=b.trigger;d.$50=b.mediaMode;d.$34=b.isUsingMultiway;d.$33=b.hasOfferInRingRequest;d.$35=(c=b.renegotiationCmuRequestSent)!=null?c:0;d.$8=b.clientVersion;d.$29=b.signalingTime;d.$15=b.endCallReason;d.$16=b.endCallSubreason;d.$17=b.isRemoteEnded;d.$23=b.lastUpdatedTime;d.$24=b.lastSerializedTime;d.$11=b.joinWithSID;d.$19=(c=b.endIsConnected)!=null?c:null;d.$18=(c=b.pcIsConnected)!=null?c:null;d.$36=b.hasAnswerInJoinResponse;b.conferenceName!=null&&(d.$10=b.conferenceName);b.escP2PCallID!=null&&(d.$12=b.escP2PCallID);b.activeConn!=null&&(d.$9=b.activeConn);b.serverInfoData!=null&&(d.$14=b.serverInfoData);b.localVideoDuration!=null&&(d.$41=b.localVideoDuration);b.remoteVideoDuration!=null&&(d.$42=b.remoteVideoDuration);b.unsetOnRetrieve!=null&&(d.$22=b.unsetOnRetrieve);b.openCount!=null&&(d.$51=b.openCount);b.extraInfo&&(d.$52=b.extraInfo);b.gen0IceSentCount&&(d.$37=b.gen0IceSentCount);b.gen0IceReceivedCount&&(d.$38=b.gen0IceReceivedCount);b.iceConnections&&(d.$48=b.iceConnections);b.iceSentCount&&(d.$39=b.iceSentCount);b.iceReceivedCount&&(d.$40=b.iceReceivedCount);b.pcConnectionStates&&(d.$49=b.pcConnectionStates);b.accumulatedCallTime!=null&&(d.$27=b.accumulatedCallTime);b.escStateTimes&&(d.$30=b.escStateTimes);b.applicationEventTime&&(d.$31=b.applicationEventTime);b.videoEscTimes&&(d.$32=b.videoEscTimes);b.mediaStats&&(d.$46=b.mediaStats);b.connectionType!==void 0&&(d.$20=b.connectionType);b.videoReceivedCodec!==null&&(d.$43=b.videoReceivedCodec);b.videoSentCodec!==null&&(d.$44=b.videoSentCodec);b.audioSentCodec!==null&&(d.$45=b.audioSentCodec);b.relayIP!==null&&b.relayIP!==void 0&&(d.$21=b.relayIP);b.startReach!=null&&(d.$47=b.startReach);return d};var c=a.prototype;c.toJsonString=function(){var a;this.$24=new Date().valueOf();a={accumulatedCallTime:this.$56(),activeConn:(a=this.$9)!=null?a:"p2p",applicationEventTime:this.$31,audioSentCodec:this.$45,callID:this.$2,callType:this.$13,clientVersion:this.$8,conferenceName:this.$10,connectionType:this.$20,deviceID:this.$3,endCallReason:this.$15,endCallSubreason:this.$16,endIsConnected:this.$19,escP2PCallID:this.$12,escStateTimes:this.$30,extraInfo:this.$52,gen0IceReceivedCount:this.$38,gen0IceSentCount:this.$37,hasAnswerInJoinResponse:this.$36,hasOfferInRingRequest:this.$33,iceConnections:this.$48,iceReceivedCount:this.$40,iceSentCount:this.$39,isCaller:this.$5,isRemoteEnded:this.$17,isUsingMultiway:this.$34,joinWithSID:this.$11,lastSerializedTime:this.$24,lastUpdatedTime:this.$23,localVideoDuration:this.$41,mediaMode:this.$50,mediaStats:this.$46,pcConnectionStates:this.$49,pcIsConnected:this.$18,peerID:this.$1,relayIP:this.$21,remoteVideoDuration:this.$42,renegotiationCmuRequestSent:this.$35,serverInfoData:this.$14,signalingTime:this.$29,startReach:this.$47,startTime:this.$26,trigger:this.$7,unsetOnRetrieve:this.$22,uploadLogLevel:this.$6,version:this.$4,videoEscTimes:this.$32,videoReceivedCodec:this.$43,videoSentCodec:this.$44};return JSON.stringify(a)};c.unsetEndCallFields=function(){this.$15=null,this.$16=null,this.$17=null,delete this.$29[o.CALL_ENDED],this.$28=0,this.$22=null};c.isNull=function(){return this.$1==="0"&&this.$2==="0"&&!this.$5&&this.$7==="NULL_SUMMARY"};c.getExtraInfo=function(){return this.$52};c.getLastUpdatedTime=function(){return this.$23};c.getDeviceID=function(){return this.$3};c.setDeviceID=function(a){this.$3=a};c.getLoggingArgs=function(){var a;return{call_id:this.$2,conf_name:(a=this.$10)!=null?a:"",peer_id:isNaN(this.$1)?null:this.$1,serv_info:(a=this.$14)!=null?a:"",web_device_id:this.$3}};c.save=function(a){a.storeCallSummary(this.$1,this.$2,this),this.$25=(g||(g=b("performanceNow")))()};c.onCallAccepted=function(a){this.$31[k.PRESSED_ANSWER]=this.$56(),this.$7=a,this.$54()};c.onCallJoinRequest=function(a){this.$33=a,this.$34=this.$1==="MW_PEER_ID",this.$54()};c.onCallConnected=function(a){this.$57(o.CALL_CONNECTED),this.$50=a,this.$54()};c.onCallEscalated=function(a){this.$50==="p2p"&&a==="sfu"?this.$50="p2p_sfu_escalated":this.$50=a,this.$35=this.$56(),this.$54()};c.onCallEnded=function(a,b,c,d){this.$22=c,this.$15=a,this.$16=d,this.$17=b,this.$57(o.CALL_ENDED),this.$19===null&&(this.$19=this.$18),this.$54()};c.setPCIsConnected=function(a){this.$18!==a&&(this.$18=a,this.$49[this.$56()]=a)};c.onInviteResponded=function(){var a=this.$9==="p2p"?o.SENT_OFFER_ACK:o.SENT_RING_RESPONSE;this.$57(a);this.$54()};c.onInviteReceived=function(){var a=this.$9==="p2p"?o.RECV_OFFER:o.RECV_RING_REQUEST;this.$57(a);this.$54()};c.onInviteSent=function(){this.$57(o.SENT_JOIN_REQUEST),this.$54()};c.onInviteResponseReceived=function(){this.$57(o.RECV_JOIN_RESPONSE),this.$54()};c.onInviteResponseProcessed=function(){this.$57(o.PROC_JOIN_RESPONSE),this.$54()};c.onMediaConnected=function(){this.$57(o.NETWORK_READY),this.$54()};c.setIsPeerMobile=function(a){this.$52[p.PEER_IS_MOBILE]=a?"1":"0",this.$54()};c.setCallType=function(a){this.$13=a,this.$54()};c.setConferenceName=function(a){this.$10=a,this.$54()};c.setConnectionType=function(a){this.$20=a,this.$54()};c.setInitByPageID=function(a){this.$52[p.INITIATED_BY_PAGE_ID]=a,this.$54()};c.setInitByAppID=function(a){a!=null&&(this.$52[p.INITIATED_BY_APP_ID]=a,this.$54())};c.setJoinWithSID=function(a){this.$11=a,this.$54()};c.setMediaStats=function(a){this.$46=a;this.$37&&(this.$46.sender.ice_g0=this.$37);this.$39&&(this.$46.sender.ice=this.$39);this.$38&&(this.$46.receiver.ice_g0=this.$38);this.$40&&(this.$46.receiver.ice=this.$40);a=a.extraInfo;var b=a.localIceCandidate;a=a.remoteIceCandidate;if(b){(this.$47==null||this.$47==="")&&(this.$47=b.networkType);if(a){var c=b.candidateType;b=b.protocol;var d=a.candidateType;a=a.protocol;if(c!=null&&b!=null&&d!=null&&a!=null){c="l:"+c+"-"+b+";r:"+d+"-"+a;this.$48[c]==null&&(this.$48[c]=this.$56())}}}this.$54()};c.setServerInfoData=function(a){this.$14=a,this.$54()};c.setRating=function(a){this.$52[p.RATING]=a,this.$54()};c.setFeedback=function(a){this.$52[p.SURVEY_DETAILS]=a,this.$54()};c.setSurveyChoice=function(a){this.$52[p.SURVEY_CHOICE]=a,this.$54()};c.setMaxConnectedParticipants=function(a){this.$52[p.MAX_CONCURRENT_CONNECTED_PARTICIPANTS]=a,this.$54()};c.setHasAnswerInJoinResponse=function(a){this.$36=a,this.$54()};c.$57=function(a){if(this.$29[a]!=null)return;this.$29[a]=this.$56()};c.$56=function(){var a=(g||(g=b("performanceNow")))()-this.$28;return Math.floor(this.$27+a)};c.$54=function(){this.$23=new Date().valueOf()};c.$53=function(){var a=b("WebPerformanceDeviceInfo").getMobileYearClass();a!=null&&a>0?this.$52[p.YEAR_CLASS]=a:this.$52[p.DESKTOP_DEVICE_CLASS]=b("WebPerformanceDeviceInfo").getDeviceLevel()};c.toString=function(){var a={core_metrics:this.$58(),time_series:null};return JSON.stringify(a)};c.$58=function(){return{CoreAudioMetrics:this.$46.CoreAudioMetrics,DebugAudioMetrics:this.$59(),active_conn:this.$9,answer_in_join_resp:this.$36,app_event_times:this.$31,call_type:this.$13,caller:this.$5,client_version:this.$8,conf_name:this.$10,conn:this.$60(),end:this.$61(),esc_p2p_call_id:this.$12,esc_state_times:this.$30,is_using_multiway:this.$34,join_with_sid:this.$11,log_level:this.$62(j.cast(this.$6)),offer_in_ring_req:this.$33,open_count:this.$51,peer_id:this.$1,push_phase:b("SiteData").push_phase,receiver:this.$46.receiver,sdp_reneg_times:[{crs:this.$35}],sender:this.$46.sender,serv_info:this.$14,signaling:this.$63(),ver:this.$4,vid_esc_times:this.$32,video:this.$46.video}};c.$62=function(a){if(a==null)return"";switch(a){case j.LL_BASIC:return"basic";case j.LL_DEBUG:return"debug";case j.LL_WARNING:return"warning";case j.LL_INFO:return"info";case j.LL_VERBOSE:return"verbose";default:return""}};c.$60=function(){var a={},b=this.$46.sender,c=b.avgrtt,d=b.maxrtt;b=b.minrtt;c!=null&&(a.avgrtt=c,a.maxrtt=d,a.minrtt=b);this.$21!=null&&(a.relay_ip=this.$21);this.$47!=null&&this.$47!==""&&(a.start_reach=this.$47);var e={};Object.entries(this.$48).forEach(function(a){var b=a[0];a=a[1];typeof a==="number"&&(e[a]=b)});a.types=e;a.ctd=this.$49;return a};c.$63=function(){var a={start_time:this.$26,time_from_start:this.$29};this.$7!=null&&(a.trigger=this.$7);var b=this.$64();b>0&&(a.duration=b);return a};c.$64=function(a){var b=this.$29[o.CALL_CONNECTED]||this.$29[o.NETWORK_READY];if(!b)return 0;a=this.$29[o.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$27||this.$56();return Math.max(0,a-b)};c.$61=function(){var a,b={};this.$15!=null&&(b.end_call_reason_string=h(this.$15),this.$16!==null&&(b.end_call_subreason_string=this.$16),b.remote_ended=this.$17,b.end_ctd=this.$19);this.$20!=null&&(b.conn_type=this.$20);a=(a=this.$46.extraInfo)!=null?a:{};a=a.localIceCandidate;a&&a.networkType!==""&&(b.reach=a.networkType);return b};c.$59=function(){var a={NetworkReceive:{}},b=this.$46.receiver,c=b.jbd;b=b.jbec;if(c!=null&&b!=null&&b>0){c=Math.round(c/b);a.NetworkReceive.jb_nm={neteq:{meanWait:c}}}return a};c.uploadLog=function(){b("ZenonCallSummaryUploader").logCallSummary({callID:this.$2,callSummary:this,peerID:this.$1})};return a}();e.exports=a}),null);
__d("ZenonGenericCallSummaryStore",["CacheStorage","areEqual","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h=2e3,i=3;a=function(){function a(a,c,d){this.$1=a,this.$2=new(b("CacheStorage"))(c,d)}var c=a.prototype;c.getCallSummaries=function(){return this.$2.get(this.$1)||{}};c.removeCallSummaries=function(a){this.mutateCallSummaries(function(b){a.forEach(function(a){var c=a.callID;a=a.peerID;b[a]&&b[a][c]&&(delete b[a][c],Object.entries(b[a]).length===0&&delete b[a])});return b})};c.mutateCallSummaries=function(a,c,d){var e=this;c===void 0&&(c=i);d===void 0&&(d=!1);var f=this.getCallSummaries(),j=this.getCallSummaries();f=a(f);var k=this.getCallSummaries();(g||(g=b("areEqual")))(j,k)?this.$2.set(this.$1,f):c>0&&(d?b("setTimeout")(function(){e.mutateCallSummaries(a,c-1,!0)},h):this.mutateCallSummaries(a,c-1,!0))};return a}();e.exports=a}),null);
__d("ZenonCallSummaryStore",["FBLogger","ZenonCallSummary","ZenonGenericCallSummaryStore"],(function(a,b,c,d,e,f){"use strict";var g="localstorage",h="RTC_CALL_SUMMARY_",i="summary";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,i,g,h)||this}var d=c.prototype;d.retrieveCallSummary=function(a,c){var d=this.getCallSummaries();d=d[a]?d[a][c]:null;if(d)return b("ZenonCallSummary").fromJsonString(d.__d);else return null};d.storeCallSummary=function(a,c,d){if(d.isNull()){b("FBLogger")("rtweb").mustfix("Storing invalid ZenonCallSummary!");return}this.mutateCallSummaries(function(b){b[a]||(b[a]={});b[a][c]={__d:d.toJsonString(),__t:Date.now(),__z:!0};return b})};return c}(b("ZenonGenericCallSummaryStore"));c=new a();f.ZenonCallSummaryStoreInstance=c}),null);
__d("ZenonCallSummaryUploader",["MarauderLogger","ZenonCallSummary","ZenonCallSummaryStore"],(function(a,b,c,d,e,f){"use strict";f.getLoggableSummaries=k;f.logCallSummaries=a;f.logCallSummary=c;var g=3*60*1e3,h="rtc_client_call_summary",i="webrtc";function j(a){var c=a.callID,d=a.callSummary;a=a.peerID;c=babelHelpers["extends"]({call_id:c,channel_session_id:d.getDeviceID(),content:d.toString(),local_call_id:c,peer_id:a,tag:"endcallstats"},d.getExtraInfo());b("MarauderLogger").log(h,i,c,void 0,void 0,void 0,void 0,"vital")}function k(){var a=b("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.getCallSummaries(),c=[];for(var d in a)for(var e in a[d]){var f=a[d][e];if(f.__z){var h=f.__t;if(Date.now()-h>g){h=b("ZenonCallSummary").fromJsonString(f.__d);h&&c.push({callID:e,callSummary:h,peerID:d})}}}return c}function a(){var a=k(),c=[];a.forEach(function(a){var b=a.callID,d=a.callSummary;a=a.peerID;j({callID:b,callSummary:d,peerID:a});c.push({callID:b,peerID:a})});b("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.removeCallSummaries(c)}function c(a){var c=a.callID,d=a.callSummary;a=a.peerID;j({callID:c,callSummary:d,peerID:a});b("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance.removeCallSummaries([{callID:c,peerID:a}])}}),null);
__d("ZenonParentCallSummaryLogProcessor",["CurrentUser","FBRTCCallSummaryStore","ZenonCallSummary","ZenonDismissReason","gkx","pageID"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=b("FBRTCCallSummaryStore").getInstance(),this.$3=a.protocol,this.$3==="mw"&&(a.peerID="MW_PEER_ID"),this.$1=new(b("ZenonCallSummary"))(a)}var c=a.prototype;c.$4=function(a){if(a!=null){a=a.deviceID;a=a==="mobile";this.$1.setIsPeerMobile(a)}};c.processEvent=function(a){switch(a.name){case"inviteResponded":this.$1.onInviteResponded();break;case"inviteReceived":this.$1.onInviteReceived();this.$4(a.remoteDeviceInfo);break;case"callEnded":this.$5(a);break;case"callAccepted":this.$1.onCallAccepted(a.trigger);this.$1.save(this.$2);break;case"popupOpened":this.$6(a);this.$1.save(this.$2);break}};c.$6=function(a){this.$1.setInitByPageID(b("pageID")),this.$1.setInitByAppID(b("CurrentUser").getAppID()),this.$1.onCallEnded(b("ZenonDismissReason").ZenonDismissReason.ClientError,!1,!0,a.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(this.$2)};c.$5=function(a){if(this.$3==="mw"&&a.isRemoteEnded)return;var c=a.endCallReason,d=a.endCallSubreason;a=a.isRemoteEnded;var e=b("gkx")("1148995");if(!e&&c===b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled&&a)return;this.$1.onCallEnded(c,a,!1,d);this.$1.save(this.$2)};return a}();e.exports=a}),null);
__d("ZenonParentQPLLogProcessor",["QPLUserFlow"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.callID}var c=a.prototype;c.processEvent=function(a){switch(a.name){case"inviteReceived":b("QPLUserFlow").start(64225282,{instanceKey:+this.$1});break;case"callEnded":b("QPLUserFlow").endCancel(64225282,{instanceKey:+this.$1});break;case"callAccepted":b("QPLUserFlow").addPoint(64225282,"call_accepted",{instanceKey:+this.$1});break;case"inviteResponded":b("QPLUserFlow").addPoint(64225282,"invite_responded",{instanceKey:+this.$1});break;case"popupOpened":b("QPLUserFlow").endSuccess(64225282,{instanceKey:+this.$1});break}};return a}();e.exports=a}),null);
__d("ZenonCollisionContext",[],(function(a,b,c,d,e,f){"use strict";"use strict";f.getThreadIDAndTypeFromCollisionContext=a;function a(a){var b=null;a.groupThreadID!=null?b={id:a.groupThreadID,type:2}:a.peerID!=null&&(b={id:a.peerID,type:1});return b}}),null);
__d("LazyLoadInstance",["promiseDone"],(function(a,b,c,d,e,f){"use strict";var g={LOADING:1,NOT_READY:0,READY:2};a=function(){function a(a,b){this.$1={instantiate:b,moduleReference:a,stage:g.NOT_READY}}var c=a.prototype;c.get=function(a){switch(this.$1.stage){case g.NOT_READY:b("promiseDone")(this.$2(this.$1),a);break;case g.LOADING:b("promiseDone")(this.$1.instancePromise,a);break;case g.READY:a(this.$1.instance);break}};c.getNow=function(){return this.$1.stage===g.READY?this.$1.instance:null};c.preload=function(){this.$1.stage===g.NOT_READY&&this.$2(this.$1)};c.$2=function(a){var b=this,c=a.instantiate;a=a.moduleReference;a=a.load().then(function(a){a=c(a);b.$1={instance:a,stage:g.READY};return a});this.$1={instancePromise:a,stage:g.LOADING};return a};return a}();e.exports=a}),null);
__d("ZenonParentSignalingClient",["ZenonDebugLogger","ZenonSignalingTypes","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e){var f=this;this.remoteSignalingID=null;this.$4="init";this.$6=null;this.$7=null;this.$8=function(){};this.$9=function(a,c,d){b("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",f.$4,"received "+a.eventName,f.$1.getSignalingID());switch(a.eventName){case"inviteRequest":f.$11(a,c,d);break;case"remoteSdpRequest":f.$12(a,c);break;case"terminateRequest":f.$13(a,c,d);break}};this.$1=a;this.$3=d;this.$5=e;this.$2=c;c.setReceiver(this.$9);b("ZenonDebugLogger").getInstance().startQPL(64234815,+a.getSignalingID())}var c=a.prototype;c.setSignalingEventHandlers=function(a){if(this.$6!=null){b("recoverableViolation")("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.","rtc_www");return}this.$6=a};c.setLoggingEventHandler=function(a){this.$8=a};c.getSignalingModel=function(){return this.$1};c.sendDismiss=function(a){this.$4="terminated";a={eventName:"terminateRequest",fromJoinResponse:!1,reason:a,shouldInformPeer:!0};this.$10(a)};c.receiveMessage=function(a){this.$2.receiveMessage(a)};c.isTerminated=function(){return this.$4==="terminated"};c.sendAnswerIntent=function(){if(this.$4==="inviteAcknowledged"){this.$4="answered";var a={eventName:"answerIntentRequest"};this.$10(a)}else throw b("unrecoverableViolation")("sendAnswerIntent called in unexpected state "+this.$4,"rtc_www")};c.respondToInvite=function(a){if(this.$4==="inviteReceived"){if(this.$7==null)throw b("unrecoverableViolation")("respondToInvite called without inviteMessageId being populated first","rtc_www");this.$4="inviteAcknowledged";a={ackMessageId:this.$7,eventName:"inviteResponse",status:a};this.$10(a)}else throw b("unrecoverableViolation")("respondToInvite called in unexpected state "+this.$4,"rtc_www")};c.sendInvite=function(a,c){throw b("unrecoverableViolation")("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendSdp=function(a,c){throw b("unrecoverableViolation")("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendIceCandidate=function(a){throw b("unrecoverableViolation")("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendMediaUpdate=function(a){throw b("unrecoverableViolation")("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendAddParticipantsMessage=function(a){throw b("unrecoverableViolation")("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendRemoveParticipantsRequest=function(a){throw b("unrecoverableViolation")("sendRemoveParticipantsRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendUsersApprovalRequest=function(a,c){throw b("unrecoverableViolation")("sendUsersApprovalRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendStateSyncUnsubscribe=function(a){throw b("unrecoverableViolation")("sendStateSyncUnsubscribe called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendStateSyncUpdate=function(a,c){throw b("unrecoverableViolation")("sendStateSyncUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendSubscriptionRequest=function(a){throw b("unrecoverableViolation")("sendSubscriptionRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendClientInfo=function(a){throw b("unrecoverableViolation")("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendGenericDataMessage=function(a,c,d){throw b("unrecoverableViolation")("sendGenericDataMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.$10=function(a){b("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+a.eventName,this.$1.getSignalingID()),this.$3.sendEvent(a)};c.$11=function(a,b,c){this.$4==="init"&&(this.$4="inviteReceived",this.$7=b,this.$5(a,c,this))};c.$13=function(a,b,c){if(this.$4!=="terminated"){this.$4="terminated";c={ackMessageId:b,eventName:"dismissResponse"};this.$3.sendEvent(c);this.$6&&this.$6.onDismissReceived&&this.$6.onDismissReceived(this.$1.getSignalingID(),a.reason)}};c.$12=function(a,c){c={ackMessageId:c,acknowledgedVersion:a.sdp.version,eventName:"remoteSdpResponse",negotiateType:a.negotiateType,status:b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus.OK,type:a.sdp.type};this.$3.sendEvent(c)};return a}();e.exports=a}),null);
__d("ZenonParentCallsManager",["regeneratorRuntime","BaseEventEmitter","JSResource","LazyLoadInstance","ZenonCallLogger","ZenonCollisionContext","ZenonDismissReason","ZenonParentCallSummaryLogProcessor","ZenonParentQPLLogProcessor","ZenonParentSignalingClient","gkx","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ZenonParentCallsManager4=new Map();d.$ZenonParentCallsManager5=new Set();d.onInviteReceived=function(a,c,e){var f,g=e.getSignalingModel().getSignalingID();e.setSignalingEventHandlers({onDismissReceived:d.onDismissReceived});var h=a.inviterID,i=a.otherParticipants,j=a.requestingVideo;a=a.roomInfo;var k="zenon_incoming_call_dialog",l=d.$ZenonParentCallsManager6({callID:g,callTrigger:k,isCaller:!1,isVideo:j,peerID:h,protocol:c});l.log({name:"inviteReceived"});k=d.$ZenonParentCallsManager3.isSupportedClientForProtocol(c);var m=k?"OK":"NOT_SUPPORTED";e.respondToInvite(m);l.log({name:"inviteResponded"});m={thread:{id:"0",type:2},type:"thread"};if(((f=a.context)==null?void 0:f.groupThreadID)||((f=a.context)==null?void 0:f.peerID)){m={thread:(f=b("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext(a.context))!=null?f:m.thread,type:"thread"}}else((f=a.room)==null?void 0:f.linkHash)!=null&&((f=a.room)==null?void 0:f.roomName)!=null&&(m={room:a.room,type:"room"});a={context:m,controllerParams:{callContext:a.name,callID:g,configuration:c,serverInfoData:(m=(f=a.context)==null?void 0:f.serverInfoData)!=null?m:null},inviterID:h,isClientPermissableRing:k,onAccept:function(a,b){var f=b.isPopupBlocked;b=b.trigger;l.log({name:"callAccepted",trigger:b});d.$ZenonParentCallsManager2.get(function(a){a.storeOfferForBackwardsCompat(h,g)});e.sendAnswerIntent();d.$ZenonParentCallsManager7(a,{callID:g,callTrigger:b,isPopupBlocked:f,isVideo:j,peerID:h,protocol:c})},onDecline:function(a,b){b===void 0&&(b=null),d.onDecline(g,l,a,b)},otherParticipants:i,requestingVideo:j,ringID:g};d.emit("incomingRing",a)};d.onDismissReceived=function(a,c){var e=b("ZenonDismissReason").dismissReasonToCancelReason(c);e={reason:e,ringID:a};d.emit("ringCancel",e);e=d.$ZenonParentCallsManager4.get(a);e!=null&&(e.log({name:"dismissRecv"}),e.log({endCallReason:c,isRemoteEnded:!0,name:"callEnded"}))};d.$ZenonParentCallsManager3=c;d.$ZenonParentCallsManager2=new(b("LazyLoadInstance"))(b("JSResource")("ZenonSignalingParentTransport").__setRef("ZenonParentCallsManager"),function(a){return new a()});d.$ZenonParentCallsManager1=new(b("LazyLoadInstance"))(b("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(a){return new a(b("ZenonParentSignalingClient"),d.onInviteReceived)});return d}var d=c.prototype;d.startOutgoingCallIntent=function(a,b){var c=b.callID,d=b.callTrigger,e=b.isVideo,f=b.peerID,g=b.protocol;this.$ZenonParentCallsManager6({callID:c,callTrigger:d,isCaller:!0,isVideo:e,peerID:f,protocol:g});this.$ZenonParentCallsManager7(a,b)};d.$ZenonParentCallsManager6=function(a){var c=a.callID,d=a.callTrigger,e=a.isCaller,f=a.isVideo,g=a.peerID;a=a.protocol;var h=this.$ZenonParentCallsManager4.get(c);!h?(h=new(b("ZenonCallLogger"))({callID:c,callTrigger:d,isCaller:e,isVideo:f,peerID:g,protocol:a},b("gkx")("1536863")?[b("ZenonParentCallSummaryLogProcessor"),b("ZenonParentQPLLogProcessor")]:[b("ZenonParentCallSummaryLogProcessor")]),this.$ZenonParentCallsManager4.set(c,h)):b("recoverableViolation")("Call logger key collision in parentCallsManager for callID: "+c,"rtc_www");return h};d.$ZenonParentCallsManager7=function(a,c){var d,e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:d=c.alohaEscalatedMW,e=c.callID,f=c.isPopupBlocked;this.$ZenonParentCallsManager2.get(function(b){b.verificationNonce=a});this.$ZenonParentCallsManager5.add(e);g=this.$ZenonParentCallsManager4.get(e);if(!(g!=null)){i.next=11;break}g.log({isPopupBlocked:f,name:"popupOpened"});if(!(d!=null)){i.next=11;break}i.next=9;return b("regeneratorRuntime").awrap(d);case 9:h=i.sent,h&&g.log({endCallReason:b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled,endCallSubreason:"forceP2POverMWForAloha",isRemoteEnded:!1,name:"callEnded"});case 11:case"end":return i.stop()}},null,this)};d.initListeners=function(a){var b=this;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.subscribe(function(a){return b.onMessageReceived(a)},function(a){return b.onRawP2PMessageReceived(a)},function(a){return b.onRawMWMessageReceived(a)})}};d.onMessageReceived=function(a){var b=a.getHeader().signalingID;if(b!=null&&this.$ZenonParentCallsManager5.has(b))return;this.$ZenonParentCallsManager1.get(function(b){b.receiveMessage(a)})};d.onRawP2PMessageReceived=function(a){this.$ZenonParentCallsManager2.get(function(b){b.enqueueRawP2PMessage(a)})};d.onRawMWMessageReceived=function(a){this.$ZenonParentCallsManager2.get(function(b){b.enqueueRawMWMessage(a)})};d.onDecline=function(a,c,d,e){e===void 0&&(e=null),this.$ZenonParentCallsManager1.get(function(f){f=f.getSignalingClient(a);if(f){var g=b("ZenonDismissReason").endCallToDismissReason(d);d!=="NoAnswerTimeout"&&d!=="VersionUnsupported"&&e!=="CallsBlocked"&&f.sendDismiss(g);c.log({endCallReason:g,endCallSubreason:e,isRemoteEnded:!1,name:"callEnded"})}else b("recoverableViolation")("signaling client should be defined","rtc_www")})};d.removeListeners=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.unsubscribe()}};return c}(b("BaseEventEmitter"));e.exports=a}),null);
__d("ZenonP2PMessageValidator",["CurrentUser","ZenonP2PMessageTypes","err"],(function(a,b,c,d,e,f){"use strict";f.getValidP2PMessage=a;f.transformP2PMessage=c;function a(a){a=JSON.parse(a);var c=a.call_id,d=a.from,e=a.id,f=a.msg_type,g=a.payload,h=a.source,i=a.to;a=a.type;if(i!=null&&i!==b("CurrentUser").getID())throw b("err")("P2P message.to field does not match logged in user ID");if(d&&c&&g){i={call_id:c,from:d,id:e,msg_type:f,payload:g,source:h,type:a};return i}else throw b("err")("P2P message does not have valid from, call_id, and payload fields")}function c(a){if(a){var c=a.msg_type;switch(c){case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OFFER:return h(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.HANG_UP:return i(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.ICE_CANDIDATE:return g(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OTHER_DISMISS:return j(a)}}return null}function g(a){var c=a.from,d=a.payload;a=a.source;d=JSON.parse(d);var e=d.call_id,f=d.capability,g=d.label,h=d.msg_id,i=d.sdp,j=d.sdp_line_idx,k=d.sdp_mid;d=d.version;e={call_id:e,capability:f,from:c,label:g,msg_id:h,sdp:i,sdp_line_idx:j,sdp_mid:k,source:a,type:b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.ICE_CANDIDATE,version:d};return e}function h(a){var c,d,e,f,g=a.from,h=a.payload;a=a.source;h=JSON.parse(h);var i=h.call_id,j=h.calltype,k=h.capability;c=(c=h.escalation_conference_name)!=null?c:null;d=(d=h.experiments)!=null?d:[];e=(e=h.extraParams)!=null?e:[];f=(f=h.fbexp)!=null?f:"";var l=h.handlescollision!==void 0?h.handlescollision:!1,m=h.offer_escalation_support!==void 0?h.offer_escalation_support:!1,n=h.msg_id,o=h.sdp;h=h.videoon;i={call_id:i,calltype:j,capability:k,escalation_conference_name:c,experiments:d,extraParams:e,fbexp:f,from:g,handlescollision:l,msg_id:n,offer_escalation_support:m,sdp:o,source:a,type:b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OFFER,videoon:h};return i}function i(a){var c=a.from,d=a.payload;a=a.source;d=JSON.parse(d);var e=d.call_id,f=d.capability,g=d.msg_id,h=d.reason;d=d.subreason;e={call_id:e,capability:f,from:c,msg_id:g,reason:h,source:a,subreason:d,type:b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.HANG_UP};return e}function j(a){var c=a.from,d=a.payload;a=a.source;d=JSON.parse(d);var e=d.call_id,f=d.capability;d=d.msg_id;e={call_id:e,capability:f,from:c,msg_id:d,source:a,type:b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OTHER_DISMISS};return e}}),null);
__d("RTWebSignalingListener",["FBMqttChannel","ZenonDebugLogger","ZenonMWMessageTranslator","ZenonP2PMessageTranslator","ZenonP2PMessageValidator","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.subscribe=function(a,c,d){var e=this;b("FBMqttChannel").subscribe("/webrtc",function(d){var f=b("ZenonDebugLogger").getInstance(),g=b("ZenonP2PMessageValidator").getValidP2PMessage(d),h=b("ZenonP2PMessageValidator").transformP2PMessage(g);e.$1(d,c);if(h){d=b("ZenonP2PMessageTranslator").toSignalingMessage(h);d&&(f.logP2PMessageReceived(g),a(d),f.logP2PMessageProcessed(g))}});b("FBMqttChannel").subscribe("/rtc_multi",function(c){var f=JSON.parse(c),g=b("ZenonDebugLogger").getInstance();g.logMWMessage("RECEIVED [MQTT]",f);var h=b("ZenonMWMessageTranslator").toSignalingMessage(f);h&&(g.logReceivingMultiwayMessage(f),a(h),d&&e.$2(c,d),g.logProcessingMultiwayMessage(f))})};c.unsubscribe=function(){b("FBMqttChannel").unsubscribeAll("/webrtc"),b("FBMqttChannel").unsubscribeAll("/rtc_multi")};c.$1=function(a,c){try{a=JSON.parse(a);c(a)}catch(a){b("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};c.$2=function(a,c){try{a=JSON.parse(a);c(a)}catch(a){b("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};return a}();e.exports=a}),null);